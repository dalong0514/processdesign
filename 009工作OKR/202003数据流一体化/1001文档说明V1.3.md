## 01. 使用说明
<hr>

### 1.1 插件加载

1、存放插件。将压缩包「dataflowcad.rar」解压到 D 盘，解压后的文件夹一定要放在 D 盘下，因为有些文件路径在插件里是写死的。

2、加载菜单插件。输入命令「menuload」，点击「浏览」按钮，选中插件文件夹中的文件「dataflow.cuix」，接着点击「加载」按钮，以后再打开 CAD 会自动加载该菜单。

![](http://192.168.1.38:8081/Images/V0.6-01.png)

![](http://192.168.1.38:8081/Images/V0.6-02.png)

3、加载命令插件。1）输入命令「appload」，加载插件「dataflow.VLX」。2）设置 CAD 启动后自动加载。还是在刚刚加载命令的界面里，点击右下角「启动组」上的「内容」。在启动组里将添加命令插件。3）启动组添加插件后如果还是自动加载不了命令，请用 360 查杀一下自己电脑里的「acaddoc.lsp」病毒，清除一下即可。（贡献者张堃）

备注：最好把数据流的文件路径添加到 CAD 搜索路径中。具体操作：输入命令「op」进入设置里，在「支持文件搜索路径」里添加路径「D:\dataflowcad」。

![](http://192.168.1.38:8081/Images/V1.0-01.png)

![](http://192.168.1.38:8081/Images/V1.0-02.png)

4、使用插件。加载插件后，CAD 顶部菜单栏会出现「数据流」菜单，点开即可使用各个模块的提取数据功能。

![](http://192.168.1.38:8081/Images/V1.0-03.png)

### 1.2 数据流工具选项板

快捷命令 ctrl + 3 调出「工具选项板」，在面板的顶部右键，弹出的面板里选择「自定义选项板」。接着加载文件夹「cadElement」里的各个组件，详见下面的动图。

![](http://192.168.1.38:8081/Images/V1.2-01.gif)

### 1.3 网页软件相关

内网地址：192.168.1.38；外网地址：wukong.hg101.vip。

登录后，进入各模块，上传从 CAD 导出的 txt 文件，看到「上传成功」弹窗后点击各个「导出」按钮。

最后，使用过程中有任何问题可随时与我联系（手机号：15857183324，短号：663324。）



## 02. 技巧汇总
<hr>
 
### 2.1 保留老版流程图数据的前提下使用新版的属性块

目前验证过最保险的办法：

1、将老版图纸整体拷进新版属性块模板（附件）里。

2、命令「BATTMAN」进入块属性管理器。

3、依次选中新版更新后的块，点击右上角的「同步」按钮。

完成上面 3 步后你流程图里的老块会自动更新为新版块，同时老版里的数据都在。最后用新版插件自动提取相关数据即可。

备注：截至此版本，数据流涉及的属性块汇总如下。1）设备相关块：Reactor、Tank、Pump、Heater、Centrifuge、Vaccum、Custom。2）仪表相关块：InstrumentP、InstrumentL、InstrumentSIS。3）管道相关块：PipeArrowLeft、PipeArrowUp。4）外管相关块：OuterPipeLeft、OuterPipeRight。

### 2.2 自动生成流程图下的一排设备位号（贡献者陈李荔）

首先确保自己的流程图中含有「设备位号」属性块。具体操作：1）点击数据流菜单里的「自动生成设备位号」。2）框选该张流程图里的所有设备块。3）空格键后，选择一个插入位置即可自动生成。

### 2.3 自动编号（贡献者汪晨、叶旭峰）

具体操作：

1、点击数据流菜单里的「自动编号」。

2、选择要自动编号的数据类型，比如管道编号。

![](http://192.168.1.38:8081/Images/V1.0-04.png)

3、筛选数据。使用通配符匹配要编号的数据，通配符的规则与 CAD 原生「find」命令里的一样，规则细节详见文档第四部分「相关知识」。比如我只匹配放空管道，那么在匹配框内输入 `VT*` 即可匹配到所有以 VT 开头的管道号。框选数据或者匹配图纸中所有数据，即可获得匹配的数据结果。

![](http://192.168.1.38:8081/Images/V1.0-05.png)
 
4、给定编号规则。举例，物料代号输入 `VT`，编号起点输入 `24101`，系统会自动将物料代号与编号拼接起来，这里即为 `VT24101`，自动顺延编号后，取代匹配数据里第一个横杠 `-` 前面的管道编号。系统编号的逻辑是根据管道所在位置坐标轴自左而右编号，若左右位置相同则自上而下编号。

备注：对于共用工程的管子可框选自动编号（编号逻辑自左而右，左右位置相同是自上而下）；对于主物料管，要实现完全按个人要求的顺序编号，可以一个一个点选自己要编号的管道（使用点选按钮），那么生成的顺序是按自己点选顺序来的。

5、确认编号。点击「预览修改」后可查看编号后的数据。确认无误后，点击「确认修改」，修改状态变为「已完成」后表明自动编号完成。

![](http://192.168.1.38:8081/Images/V1.0-06.png)
 
同理，可对仪表位号、设备位号自动编号。

### 强化版自动编号（贡献者王禹谋、李恒）

V1.2 版本新增的强化本自动编号操作，详见下面的动图：

![](http://192.168.1.38:8081/Images/V1.2-03.gif)

### 2.4 批量修改数据（贡献者曾涵卫）

基本的操作逻辑：CAD 中精确筛选出要修改的数据 -> 导入到 Excel 临时文件 -> 批量修改后反导回 CAD。

以批量修改管道数据为例，仪表数据与设备数据同理。具体操作：

1、点击数据流菜单里的「批量修改管道数据」。

2、筛选数据。可以根据管道块中任意一个属性值来匹配数据，比如符合某种规则的管道、某张流程图号的管道、管道起点为某设备的管道，结合通配符基本可以精确筛选出你想要修改的任何数据。比如我要修改图纸中所有 PL 开头的物料管道，匹配模式中输入 `PL*`，点「匹配全部」或者自己框选数据。

![](http://192.168.1.38:8081/Images/V1.0-07.png)

3、导出数据。看到匹配到的数据后点击「导出数据」，导出状态变为「已完成」后，系统会自动在 D 盘的「dataflowcad」文件夹下的「data」文件夹里，自动生成管道的 excel 数据文件「pipeData.csv」。仪表的数据文件「instrumentData.csv」、设备的数据文件「equipmentData.csv」。

打开文件后，在 excel 里输入、修改数据。Excel 常规的所有操作均可在该文件实施，比如做筛选、排序等等。

![](http://192.168.1.38:8081/Images/V1.0-08.png)

![](http://192.168.1.38:8081/Images/V1.0-09.png)
 
4、导入数据。Excel 临时文件修改数据后，点「导入数据」，导出状态变为「已完成」后，系统会自动读取刚刚的 Excel 临时文件，点「显示数据」可以确认修改后的数据。
 
![](http://192.168.1.38:8081/Images/V1.0-10.png)
 
![](http://192.168.1.38:8081/Images/V1.0-11.png)
 
5、修改某属性值的特定局部字符串（可选）。比如我想将刷选出来的管道，所有管径 40 的管子改为 50 的。局部字符里输入 `-40-`，替换新字符里输入 `-50-`，那么系统会自动将管道号里 `-40-` 的字符替换为 `-50-`，点击预览数据可以查看修改后的数据。同理可以替换特定的物料代号、管道等级等。一些常规替换可以直接在 excel 里改，但该面板的优势在于可以直接结合通配符筛选完直接修改。

6、确认修改。点击「确认修改」，修改状态变为「已完成」后表明数据已反写回 CAD。
 
![](http://192.168.1.38:8081/Images/V1.0-12.png)

备注：做安全专篇的设备表时，可以直接从 Excel 临时文件里拷，节省时间。

![](http://192.168.1.38:8081/Images/V1.0-13.png)

### 2.5 图签自动编号，自动提取图号刷数据（贡献者王禹谋、张坤）

流程图图签自动编号，从图签自动提取图号，刷这张图里所有数据的「所在图号」属性。具体操作：

1、点击数据流菜单里的「自动编图签图号」。

2、点「选择图签」框选一排流程图的图签（目前只能一排一排的编号），比如示例图里选框了 11 张流程图图签，会自动提取目前图签里已有的图号数据。

![](http://192.168.1.38:8081/Images/V1.1-01.png)

3、输入图号的前面内容，比如 `S19A51-02-04-`，输入起始编号数字。起始编号如果小于 10 系统会自动在前面补上 0，如果从第一张流程开始编，填 1 或者 01 都可以。点「预览编号」，确认无误后点「确认编号」，编号状态显示「已完成」后，数据即写入了流程图图签。

![](http://192.168.1.38:8081/Images/V1.1-02.png)

4、刷图纸里管道和仪表所在图号的数据。点击「刷数据所在图号」，选取一个图签后空格，CAD 命令栏下会显示出你提取到的该图签图号，接着按提示选择整张图纸的数据。刷完数据后会自动返回到交互界面，左下角会显示刷完的状态以及所刷数据的数量。接着点「刷数据所在图号」继续刷下一张图的数据。

![](http://192.168.1.38:8081/Images/V1.1-03.png)

![](http://192.168.1.38:8081/Images/V1.1-04.png)

V1.2 版本将刷图号数据操作单独拎了出来，具体操作详见下面的动图：

![](http://192.168.1.38:8081/Images/V1.2-02.gif)

### 2.6 批量刷仪表「所在位置」数据

具体操作：

1、点击数据流菜单里的「刷仪表所在位置」。

2、按 CAD 命令栏的提示选择仪表所在的位置，设备和管道均可选择，系统默认你所选的第一个数据。

3、选择刷的仪表块，可批量选择（而且只能选择仪表数据）。空格完后，系统会将你选择的位置批量写到所选仪表块里的「所在位置」。

### 2.7 批量刷管道的起点和终点数据

具体操作：

1、点击数据流菜单里的「刷管道起点和终点」。

2、按 CAD 命令栏的提示，1）选择管道起点，设备和管道均可选择。如果直接空格表示不修改管道起点，此场景针对于刷共用工程的管道，设备端的在 CAD 端刷，总管端的请在 excel 里批量改。2）选择管道终点。3）选择要刷的管道，可批量选择。直接空格后，系统会将你选择的起点和终点批量写进要修改的管道块里。

### 2.8 批量刷属性块内的数据

针对一些可复用的数据（工作介质、温度、压力等），可提取所选择块内的数据，批量刷到其他块内。具体操作：

1、点击数据流菜单里的「刷块属性数据」。

2、选择要刷的数据大类：全部数据、仪表和管道、管道、仪表、设备。

3、选择要提取的数据，可按住 ctrl 键多选（跟 office 常规操作一样）。

4、在 CAD 图纸里选择要提取数据的块后，面板里会显示出所提取到的真实数据。接着选择要刷的块，系统会自动将提取的数据刷到所选择的块内。

![](http://192.168.1.38:8081/Images/V1.1-05.png)

### 2.9 自动生成辅助流程组件（贡献者叶旭峰）

大家可以看到，画辅助流程所需的几个关键信息（管子所在图号、管子所接设备以及设备位号），前面的管道块内都有这些数据，那么辅助流程的组件即可自动生成。具体操作：

1、首先将模板里的「辅助流程组件」块拷到自己的流程图里。点击数据流菜单里的「自动生成辅助流程」。

2、选择自总管（比如氮气管），或者去总管（比如放空管）。

3、通过通配符筛选要生成的辅助流程管道，比如 `N*` 筛出氮气管道。接着点「选择插入点」，在图纸里即可自动生成辅助流程组件。

![](http://192.168.1.38:8081/Images/V1.1-06.png)

![](http://192.168.1.38:8081/Images/V1.1-07.png)

### 2.10 自动生成跨流程图的接图小箭头，并一键更新

首先将模板里的「接图组件」块拷到自己的流程图里。点击数据流菜单里的「自动生成接图箭头」，具体操作详见下面的动图：

![](http://192.168.1.38:8081/Images/V1.2-04.gif)

作为数据源的管道数据更改后，只需使用数据流菜单里的「一键更新接图箭头」，即可同步更新数据。

### 2.11 鼠标悬浮显示块属性的设置

输入命令「cui」，选中「鼠标悬停工具提示」，右侧面板选中「块参照」，只勾选「属性」。设置完成后，只要把鼠标放在块上即可显示「块属性」的具体信息。

![](http://192.168.1.38:8081/Images/V0.6-07.png)

## 03. 注意事项
<hr>

### 3.1 管道数据需使用配套的材料等级表

管道数据表只有使用配套的等级号，压力等级、吹洗介质、无损检测比例、检测合格等级、泄露性试验介质、压力，这几个数据后台可以自动根据相关逻辑判断填充，否则只能在导出的数据表内自行修改。做外管条件表时同理。

配套的材料等级表详见之前发给大家的邮件，或者直接从我这边获取。

## 04. 相关知识
<hr>

### 4.1 通配符匹配原则。

1、`*` 相当于任意数量的任意字符。比如：a） `VT*` 会匹配到任意以 VT 开头的管道；b）`VT-25-*` 会匹配任意管径为 25 的管道。c）`VT*-50-*2J1*` 会匹配任意管径为 50 的、等级号为 2J1 的管道。等等。

2、`[]` 范围描述符。a）`[a-z]` 表示从 a 到 z 之间的任意一个。b）`[1-6]` 表示 1 到 6 之间的任意数据。

3、`?` 会相当于任何一个字符。

最后，使用过程中有任何问题可随时与我联系（手机号：15857183324，短号：663324。）





## 05. 更新内容记录
<hr>

### V1.2 版更新内容

**总体相关：**

1、自动生成跨流程图的接图小箭头，并实现一键更新。所有设备块新增「所在图号」属性，跨流程的管子包含起点终点的设备位号，设备块内又有所在图号信息，那么跨流程图的接图箭头可以自动生成。而且做了数据绑定，管道数据变动后，接图数据可以一键更新。

2、自动批量编号强化版。1）对于管道：后台根据物料代号自动分类，每一个小类自动编号，同时支持按流程图自动编号（如果业主没特殊要求的话，个人强烈推荐按流程图编号）。2）对于仪表同理。强化版的自动编号结合自动生成接图箭头（解决跨图号管道编号重复问题），管道和仪表编号自动化基本解决了。（贡献者王禹谋、李恒）

3、自动生成辅助流程图强化版。生成的辅助流程数据与主流程的管道数据做了绑定，主流程数据修改后，支持一键更新辅助流程。

4、配置「数据流工具选项板」，将设计流的相关属性块集中到一个工具面板上，类似于「天正电气」的那种界面，可以直接选择块插入到图纸里。有些人可能喜欢直接在图纸里 copy 块，看个人喜好。配置步骤详见说明文档里的「01 使用说明」部分。（贡献者郑飞宏）

备注：CAD 很多原生的功能我是不知道的，如果大家知道哪些功能可以跟「数据流」结合在一起，跟飞宏一样直接告诉我，我这边集成进来，至少让你多一个选项。

### V1.1 版更新内容

**总体相关：**

1、流程图图签自动编号，以及从图签自动提取图号，刷这张图里所有数据的「所在图号」属性。（贡献者王禹谋、张坤）

2、自动生成辅助流程图主要数据。（贡献者叶旭峰）

3、通过选取数据源，批量刷属性块内的数据。（贡献者徐骋）

4、自动编号（管道、仪表、设备），新增「点选」功能。（贡献者徐骋）

5、数据块更新：1）管道的起点和终点数据外显；仪表所在位置数据外显。备注：方便刷完数据后确认。2）外管块内「图号」属性名修改。

**管道数据相关：**

1、通过选取数据源，刷管道的「起点」和「终点」数据。

**仪表条件相关：**

1、批量刷仪表「所在位置」属性。

以上所有具体操作，大家可以去网页端看「文档说明」中的技巧篇。

### V1.0 版更新内容

**总体相关：**

1、数据流的菜单栏调整以及新增相关图形交互界面。

2、始终自动加载插件的解决方案。（贡献者张堃）

部分人即使在 CAD 插件的启动组里添加了数据流的插件，还是遇到无法加载的情况。请找信息技术部装下 360，查杀一下自己电脑里的「acaddoc.lsp」病毒，清除一下即可解决问题。

**管道数据相关：**

1、根据管道所在的坐标位置，自动批量编号。（贡献者汪晨）

2、批量修改管道数据。CAD 中精准刷选出要修改的管道数据 -> 导入到 Excel 临时文件 -> 批量修改后反导回 CAD。（贡献者曾涵卫）

**仪表条件相关：**

1、新增 SIS 属性块。

2、根据仪表所在的坐标位置，自动批量编仪表位号。

3、批量修改仪表数据。CAD 中精准刷选出要修改的仪表数据 -> 导入到 Excel 临时文件 -> 批量修改后反导回 CAD。（贡献者曾涵卫）

**设备数据相关：**

1、自动生成流程图底部的一排设备位号。（贡献者陈李荔）

2、根据设备所在的坐标位置，自动批量编号。（贡献者叶旭峰）

3、批量修改设备数据。CAD 中精准刷选出要修改的设备数据 -> 导入到 Excel 临时文件 -> 批量修改后反导回 CAD。（贡献者曾涵卫）

4、设备块数据新增，是否防爆（Y/N）、电机级数（2/4/6/8，填 1 为变频电机），后台会根据电机功率、级数、防爆信息匹配天书里的电机型号写进设备一览表。（李恒）

5、自定义设备，下面文字「参数 1-3」，碍事，删除掉。（贡献者范敬宜）

提示：以后做安全专篇的设备表时，可以直接从 Excel 临时文件里拷，节省时间。

以上具体操作详见文档说明里的「技巧汇总」。

### V0.6 版更新内容

**总体相关：**

1、新增 CAD 提取数据的图形交互界面。具体设置详见文档中的「使用说明」。

2、修改用户密码。点击右上角的头像展开选项，点击「设置」，在弹出的面板后修改用户密码。

**仪表条件相关：**

1、仪表测量控制点名称自动拼接。（贡献者徐骋）

2、仪表自动关联管道数据匹配逻辑修改。（贡献者徐骋）

从原来匹配整个管段号到仅匹配最前面的管线号，例如仪表所在位置填的「PL1106-80-2J1-H5」，之前的逻辑是整个管段号去与图纸里的管道号匹配，有人反馈在画图过程中，经常会修改管道数据的信息（如管径），仪表所在位置已填的信息懒的再改。所以现在仪表所在位置的管道号只提取前面的「PL1106」去匹配管道数据。

3、备注里的保温厚度信息自动关联管道数据。（贡献者孙伟昌、徐骋）

仪表所在位置为管道的话，备注里的保温厚度不用填了，后台会自动提取所在管道的保温信息。

**外管条件相关：**

1、外管数据关联管道数据。外管块里的管道号会自动关联该管道上的相关信息，减少重复输入。备注：跟管道数据表一样，管道等级号必须使用数据流配套的「管道材料等级表」。

### V0.5 版更新内容

**总体相关：**

1、新增用户系统。

每个人的账号为自己公司的邮箱名，密码默认为：tz123。账户密码修改系统下一个版本会更新。

2、各模块界面更新。

3、新增文档说明页面。

软件的使用说明、各个版本的更新内容、bug 修复情况等信息都会放在这个页面里。

**管道数据表相关：**

1、保温材料空值关联已有数据（贡献者徐骋）。

有保温符号的管道，保温材料信息，后台可以自动关联已填有的数据。比如 200℃ 以下的保温（符号 H、岩棉制品），200℃ 以上的（符号 H、硅酸铝），保冷（符号 C、聚氨酯），防烫（符号 P、岩棉制品）等。每个类型的，图纸里只要有一个数据填好了，其他的可以不填。

**仪表条件相关：**

1、新增控制阀条件表。开关阀和控制阀的信息放在控制阀条件表内。

2、仪表属性块增加「备注」字段。（贡献者张堃、孙伟昌、徐骋）

备注信息如：保温厚度、开关阀的气开气关、联锁逻辑等，这个属性字段的信息会自动填充到条件表里的备注栏中。

**设备一览表相关：**

1、自定义设备块的参数，如果为空值就不填充。

之前自定义块中，4 个自定义参数默认写的是「xx」，空值的话设备一览表的那一栏不会再填充，省得导出的表里要自己手动删除。

### V0.4 版更新内容
 
**管道数据表相关：**
 
1、新增管道数据表模块。
 
抽出来的管道数据，在设计流数据一体化平台上可以导出 2 个文件，一个是我们的成品管道数据表，一个是做管段表用的数据源（可导入公司做管段表的软件里用于统计材料）。
 
特别强调的是：管道等级号必须使用配套的材料等级表（附件）。只有使用配套的等级号，压力等级、吹洗介质、无损检测比例、检测合格等级、泄露性试验介质、压力，这几个数据后台可以自动根据相关逻辑判断填充，否则只能在导出的数据表内自行修改。
 
另：如果你项目里用到的物质在配套等级表里找不到相应的等级号，请与我联系。
 
**仪表条件相关：**
 
1、仪表数据与管道块、设备块数据关联。（贡献者冯大龙、顾川川、徐骋、蒋万忠）
 
仪表块、管道块和设备块内有相同的数据可以共用，减少重复输入。这个想法包括我自己在内，有多位同事想到并给我提了建议，目前已实现。
 
仪表块的中工作介质、温度、压力、所在位置的材质、所在位置的规格尺寸，这 5 个属性数据的提取逻辑如下：1）先判断仪表块里该属性有没有填，填了的话直接提取该数值。2）没填的话，后台会根据仪表块里的管道编号或设备位号，自动关联到对应的管道块或设备块，提取相应的数据。
 
简单说，如果管道块和设备块那边已经有了这 5 个属性数据，仪表块里只要在「LOCATION」这个属性里填上管道编号或设备位号，那 5 个数据可以不填了。
 
2、仪表属性块增加型号字段（贡献者张堃）
 
远传仪表，例如液位计，有雷达，磁翻板，液位开关等多种类型，但是在流程图里只有 LI 一种表示方法。而实际过程中，有些位置是需要判断液位计类型的。流量计同理，楔形、质量、旋涡等，也都有特定使用工艺。仪表属性块增加种类这一项，既可以方便业主审核，也可方便工艺自查。
 
3、仪表属性块增加图号字段。
 
4、集中仪表块新增区域覆盖。（贡献者徐骋）
 
流量计放在管道多段线上可直接覆盖底部管道，方便位置拖拽。
 
**设备一览表相关：**
 
1、新增了一个「自定义」设备块。（贡献者张坤）
 
如果设备不属于反应釜、储罐、换热器、输送泵、真空泵、离心机，可以使用这个块。
 
2、定型设备新增工作介质、温度、压力。输送泵、真空泵、离心机也新增这些属性，便于与仪表块数据关联用。

### V0.3 版更新内容

1、新增外管条件（贡献者郑重、沈琦）。

已跟外管对接，接受附件里自动生成的 Excel 版的外管条件。有点着重说明，外管去向里必须包含「去」或者「自」这 2 个字符，后台是根据这 2 个字符判断起点或终点的。

使用数据流提外管条件，目前可以为你节省时间的地方：1）设计温度、设计压力自动计算；2）管道直径根据管道号信息自动提取。3）流速，根据流量及提取出的管径自动计算；4）管道材质根据管道编号信息自动填充；5）管道保温代号、厚度信息，根据管道编号自动提取。

### V0.2 版更新内容

1、上线电气条件。

CAD 里用命令 gselectric 提取数据，进入网页端工艺模块中的「To电气专业」。

2、设备块的备注信息缩小（贡献者陈李荔），这样信息多的时候不会显得太挤。

3、所有属性做成了移动（贡献者林俊），目前块里的属性都是可拖动的，比如集中仪表里，高低报警符号可以根据使用情况拖动到合适的位置。

4、非标设备块增加添加工作介质信息（贡献者顾川川），总师办之前发了文，目前因多数项目的非标设备不是本公司设计，制造图纸为甲供，因此技术规格不完整会造成实际加工的差错，甚至引起事故。故要求非标设备的技术规格栏中还应填写操作条件，即操作温度、操作压力、处理能力、介质名称等。

5、增加了离心机设备块、真空泵设备块（贡献者李恒）。

6、各个设备块根据常规经验新增了一些必要的关键参数信息。

最后，使用过程中有任何问题可随时与我联系（手机号：15857183324，短号：663324。）



## 06. bug 修复记录
<hr>

### V1.2 版 bug 修复

1、导出设备数据时，如果自己图纸里的设备块类型不全导出报错。（bug 贡献者李侦糠）

### V1.1 版 bug 修复

1、隐藏仪表备注信息后，集中仪表块区域覆盖失效。（bug 贡献者曾涵卫）

2、批量修改泵数据模块，查看「设备型号」报错。（bug 贡献者李侦糠）

### V1.0 版 bug 修复

1、导出的设备表有该单体旧的数据。（bug 贡献者孙伟昌）

之前的「删除」逻辑是放在，判断是否有这个数据表之后的，该逻辑有问题，比如第一版里有泵数据，第二版里没有泵数据，那么就不会删除第一版的泵数据，所以应该放到判断之前。

2、保温材料自动关联 bug。（bug 贡献者范敬宜）

无论是 200 度以下的还是 200 度以上的，都有可能关联不到数据，这种情况下，insulationData 直接返回空数组。

### V0.6 版 bug 修复

1、保温材料关联不完善，比如防烫 P 的岩棉制品和保温 H 的岩棉制品不能分别关联。（bug贡献者孙伟昌）

2、CAD 数据缺失情况导致的 bug。比如图纸里没有高温（200℃ 以上）保温材料数据，导致后台无法识别。（bug贡献者曾涵卫、张坤）

### V0.5 版 bug 修复
 
1、设备表的数据中工作介质字段 string 长度设置过小导致无法写入数据。（bug贡献者李恒）

### V0.4 版 bug 修复
 
1、储罐块的基点偏移问题。（bug贡献者张堃）
 
上一版本V0.3 中，储罐设备块的基点位置有误，已修复。
 
2、cad 内特殊字符 \U+00B 等，导致数据读取失败。（bug贡献者牟苏嫣、张坤）

最后，使用过程中有任何问题可随时与我联系（手机号：15857183324，短号：663324。）

页边距的修改：
 
```css
/* 全局属性
 * 页边距 padding: 30px;
 * 全文字体 font-family: ptima-Regular;
 * 英文换行 word-break: break-all;
 */
#nice {
  letter-spacing: 0.05em;
  color:#595959;
  padding: 50px;
}
```
