# 向新和成介绍数据流

P1-2 ——

各个领导，同事，那么下面我简单介绍下我们目前设计流数据一体化平台的情况。两块内容，首先是这个平台的底层思维，第二个是目前的一些成果。

P3-4 —— 两库建设

我们的平台基于两个库，项目数据库和模块库。

先说项目数据库。我们之前的模式是，工艺拿到各位的需求，消化吸收转化为各个专业的条件分发下去，各个专业拿到条件数据处理后，要么形成他的成品图纸，要么分发到其他专业，大家相关传。这种模式很容易造成：数据错误、数据重复输入和数据不同步。

我们现在以项目为单元搭建了项目数据库，所有专业只能数据库交互。可复用的数据，只需要最上游的专业输一次，其他专业直接从项目数据库里提取，数据处理完后再返给项目数据库。这样可以消除重复输入，确保数据的一致性和准确性。

同时，有了这些结构化的生产作业数据后，我们可以加载业务算法了，把常用的数据、处理这些数据的方法打包封装起来，只对设计人员暴露少量的接口。新作业模式中，我们把校审前置到前端，去校审数据库、校核模块库。

P5-7 —— 模块库

刚刚也说了，项目数据、公共数据这些结构化数据，结合我们院的业务算法，封装成模块就是我们的模块库。

以我们工艺专业为例。最底部是我们最小的模块、积木，我们把仪表相关的信息封装成了仪表模块，同样的，还有管道模块、阀门模块、设备位号设备图形模块。这些动图里，大家可以看到，工艺这边这些小模块我们都实现了自动生成。

再往上抽象一层，这些小积木可以拼接成更大的积木，单元操作模块，比如我们的反应模块、溶解模块、结晶模块、过滤模块等等。接着抽象，用这些单元操作的模块，我们可以组装成一个个单体，比如合成车间模块、罐区模块、空压模块、仓库模块。最后组装成我们的原料药厂房。这是模块库的内容。

P8 —— 成果总纲

下面是第二块内容，我们目前的一些成果。主要有 2 块，一个是全专业性的。另一块是单个专业的，主要介绍工艺、暖通、设备和仪表这 4 个专业。

P9 —— 总体成果

首先我们搭建了一个全专业的项目数据库。整个数据结构划分是我们自己设计的，业务的逻辑我们很清楚，每个业务模块我们可以方便快速的搭建相应的数据表。第二块是我们自己研发的桌面客户端，里面有各个专业的模块页面。

P10-12 —— 工艺成果

工艺专业的小模块前面有介绍，那么我们的设计人员开始画流程的时候用我们封装好的模块去画，那么自动生成我们公司的成品设备一览表、管道数据表，给下游专业的条件，比如仪表条件、电气条件等。

流程用我们的模块画之后，我们可以自动把流程图的数据迁移到布置图，根据流程里设备的规格数据去匹配数据库里不同规格的外形图形数据，自动在布置图里生成，设计人员布方案的时候把这些设备图形挪移到相应的位置。流程和布置的设备数据可以互联互通。

组装流程图。小模块可以自动生成，那么我们可以把这些小模块常用的组装方式、附带初始数据自动生成。不如我们典型的危险工艺模块，比如一些典型的单元操作：溶解、结晶、离心、干燥等。

P15-16 —— 暖通成果

暖通专业我这边以洁净空调模块为例。工艺专业在布置图里用房间模块输数据，输入完提到项目数据里里。暖通专业按项目单体号直接从项目数据库里把这些房间数据提取出来，补充他本专业的数据，这里只有 2 个，房间面积和房间所在系统的信息。补完后直接在一体化平台里自动计算，我们已经把算空调系统的风量、冷量的算法封装到了这个模块里，设计人员只需根据计算的结果调少量的参数人工干预下。调完后自动生成暖通的系统图。

P17 —— 设备工程图

设备工程图差不多也是这个逻辑。因为工艺流程图是用我们的模块画的，那么这个设备上所有的管道、仪表信息我都可以匹配到。设备专业直接从项目数据库提工艺流程里的数据到一个 Excel表，在这个表里把设备专业自己要补的数据补进去。然后自动生成工程图。

P18 —— 仪表成果

仪表的自动选型模块。仪表专业直接从项目数据库里提取工艺的条件数据，加载仪表的选型逻辑，再结合少量的人工干预自动选型、自动出公司的仪表数据表。这个模块目前还在开发中。