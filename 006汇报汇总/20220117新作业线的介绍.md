## 新作业线的介绍

### P0 —— 目的

先说下今天我们来做这个介绍的目的，我们在做的数智设计想把各个专业做设计的作业线全部梳理出来做一个全景框架图。以后我们开发开对就在这个全景框架图里一条线一条线的开发。

那么第一版需要各位主任工程师梳理出来，然后我们开发团队在这个版本上从开发的角度不断的做一些迭代。

我下面要讲的主要内容有三块。第一个是梳理作业线的基本原则。第二块是我、谢雨东、华雷分别介绍一下各自已经梳理好的作业线给大家一些参考。最后一块，因为之前我跟在座的各位或多或少都交流过，虽然有些功能之前没开发，但我这边小本本上都有记录，比如之前郑重和王玉松王工一起讨论的外管架平面图、纵剖图的协调的事情，我从我的角度提一些建议。

### P1 —— 总体思路和目的（作业线全景框架图）

后续大家梳理作业线的时候有两个原则：

1、覆盖掉成品图纸、中间文件。除了结构建筑外，其他专业的我想我们整理出来的能覆盖掉成品图纸、中间文件。

2、先不用考虑如何实现。你在梳理的时候就当是理想情况，我们开发团队都能做出来，你在做自己的图纸里就是能直接调用上游其他专业给你的数据。梳理的第一版，只涉及最外围框架，里面如何实现的先不管。

### P2 —— 总体思路和目的（作业线模式）

功能点模式转为作业线模式，有下面几个优势：

1、首先，碎片化到成体系。之前我们有个一直被诟病的问题是太碎片化了，全部都是一个一个的功能点，做到最后只能变成一个工具箱。那么按这个作业线的模式，就是一个成体系的系统。

2、第二，可以让设计人员按我们规划的作业线一步步往下走。原来碎片化的功能导致一个现象是，我这边有 8 个功能，设计人员只用到 4 个，其他 4 个他不知道怎么用甚至压根都不知道，我发现没几个人回去看使用说明。用这套作业模式我这边可以指引设计人员一步步按我们规划的路径走，走到一个小节点就跳转到之前开发好的功能模块里。相当于一个操作指南。

3、最后，按作业模式，整个作业线里每一个节点涉及到的数据，我们后台都能拿到最新的。我们要做的专业间数据的协同有一个前提，数据库里的数据必须得跟我提给下游专业的数据一致，之前工艺提仪表专业的数据就存在这个问题，作业线模式上我们就可以去加一些控制措施确保数据是最新的。

其实还有一些好处，比如作业线就好比一个设计作业指南，让新的设计人员看到一个全景图，提醒他到了哪个节点做什么事，不会漏掉一些环节。等等。

### P3 —— 工艺专业作业线介绍

接下来，我、谢雨东和华雷梳理出来的作业线给大家做个简要介绍，希望里面的思路能给大家一些启发和参考。

我这边先说工艺这边的，我们目前考虑用三条作业线覆盖所有的成品图纸和中间条件。我一会介绍的是工艺流程作业线终版和设备布置作业线的初版，二维配管的作业线还在梳理。

### P4 —— 工艺流程作业线介绍

先说工艺流程的作业线。这条线有个很特殊的地方在于，里面的功能点我们基本都开发好了，自下而上把它们放到了这条作业线上，相当于把之前系统里开发好的功能点模式换了个组织方式变成了作业线。

这条作业线上分成了 4 个大的作业节点。

### P5 —— 设备布置作业线介绍

设备布置作业线这边就很不一样了，绝大部分功能都没开发，我们就按最全的来梳理，就当能全做出来。我现在能确定的是，最终开发出来的版本跟现在的组织形式肯定是有很大的不同，但没关系，目前这版就按能梳理出来的最全的点，总要先有个目标，奔着这个目标去做。

设备布置作业线这版目前也是 4 个大的作业节点。方案布置阶段、一次条件、二次条件和最后的完善数据。

### P6 —— 暖通专业作业线

### P7 —— 仪表专业作业线

### P8 —— 其他几个专业的建议

之前也交流过一些内容，我们的开发技术也在不断提升，从自己想法看到的一些问题。

暖通和仪表，谢雨东和华雷已经讲了。给排水夏老板这边我之前交流过一次作业线的事，他现在也在梳理。设备叶工这边上次也交流了下，先把设备工程图的作业线梳理出来。

电气专业：1）动力部分的自动化设计。2）工艺布置图电机数据提取联动天正电气。

万盛2022 年要的电气专业动力部分的自动化设计软件，之前他的软件是在 Excel 里，现在是要外面找人用 Python 写。逻辑思路外面这边肯定也有，我们这边也有现成的开发团队。而且我记得年初叶赟提到过，盛江那边有个很大的弊端是成图后难改，你之前说想单个设备、单个回路做成一个数据对象，这样就不怕改了。我个人觉得这个可以作为一个重点去开发，我们这个点可以一起尝试一下。

叶赟：盛江的那个东西，我现在发现，因为里面有选型的东西，输入的多了根本算不过来，会卡死。所以，我把不常用偏门的删掉了。还有个问题，一旦成表后想再该就难了。我现在的想法：把它做成单个设备的，我们做系统图本身是个柜子，柜子里有很多回路，我的想法是单个设备、单个回路做成一个数据对象，这样的话我可以按回路、设备来选，这样我就不怕改了。现在用的最大的问题，就怕改，改了就得重新做一遍。

叶赟：如果布置图上有电机数据提取出来，中间我这边的配电柜的回路就可以做出来了。

建筑、结构专业：1）专业软件未覆盖的功能点。2）专业间数据传递的功能点。

结构、建筑专业因为有自己的专业软件，我个人还是倾向于按功能点模式来梳理。侧重于：1）一个是专业软件没有覆盖的功能点。2）第二个是专业间数据传递的功能点。

比如图形模块库。建筑之前提的常用图形库复用，比如之前说的门卫。可以参考工艺的模块库，模块库的管理。

比如结构这边，王玉松之前说的。

总图专业：1）模块库。2）数据的转化、迁移。

比如之前陈学整理的路基、路面的结构。数据的转换迁移这边，比如之前构建筑物一览表从计算书到总图上，还有罐区一览表。还有之前管线综合图里提取各个专业的数据，比如给排水的管道数据。

这个模块是陈学总提的，厂区道路有路基、路面2部分，路基 9 种路面 6 种，把这些都做成模块放到服务器的模块库里。设计人员选好一个路基和一个路面后，自动帮你组装 2 个东西，一个是「说明内容」，一个是「详图」。

管线综合图给排水管道处理。给排水的管子花的时间最多，处理他们管子的工作量大。总图要给排水的信息有 3 个：一个是什么管子，比如自来水、消防的、喷淋的。一个是管径，还有一个是位置。这个模块要做的是把给排水的图纸里这 3 个信息提取出来，自动在总平图上生成，至少能把你自己处理他们管子的时间省掉（很多数据总图不要的）。

外管专业：1）数据复核（单体间条件的不一致）。2）专业间数据的传递（管架荷载条件、系统图辅助和总图底图更新）。

### 碎片

1、模块库演示的关联。

之前建筑门卫、总图道路等。

1、王玉松和郑重之前的模块。

1、夏老板的思路：设计人员画综合，按数据类型（专业）拆解。

1、电气盛江的那套东西。叶赟之前想的单回路的事情。