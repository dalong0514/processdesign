## 20211119数智设计 D4 系统交流

前后台分离：

1、前台，作业线：设计人员使用界面。

2、后台，控制线：校审核人员、专业负责人、数据管理员。

### 碎片

空压站：

客户需求选择：氮气产气量、氮气纯度、是否一用一备等配套。这些其实可以放流程模块库那边输入。

### 记录

1、一个项目过来后，首先是一个「创建项目」动作，这个创建动作是在「后台」完成的。创建这个动作在后台又会包含很多，比如项目信息、各专业设计人员、工作流等这些基础信息。

1『此处的信息很多与项目经理在 D4 系统上填的是重合的，确认下 D4 那边有没有相关功能可以直接导出来。』

2、创建这个动作在后台完成后，对应的相关设计人员在前台就可以选择性的看到相关信息。比如说，现在工艺设计人员可以开始空压站的设计工作了，那么它会弹出一个任务（工艺人员第一步去做什么），比如是「做流程图」这个任务，那么工艺设计人员就要去完成这个任务（通过空压站流程模块库实现），实现这个任务后工艺会产生一系列工艺条件分发出去，下游专业弹出要进行的任务面板。

每个任务有一个状态：完成、未完成、反馈、驳回等。这个时候，每个后台会收到这么个消息，并对应于去做相关的处理。

各专业一系列任务完成后，出来的结果是「自动成图」。

3、后台模块的划分：人员管理模块（比如设计人员打上各个专业的标签）、任务列表模块。

4、生产的业务线和校审核的线剥离，是一个并行的关系。对应于前台和后台，校审核（后台）要校数据（数据应该是前面入库前就校审好了）、有没有同步、前台有没有按规划的路径去走。

5、业务流程卡片化。比如工艺开始做空压站了，会弹出一个卡片（任务01），卡片上有状态（未完成、待审核、驳回、已完成等）。做完一个任务后，数据就要传递到旁边的「控制线」上。

墨菲：审核的操作不涉及直接跟 CAD 交互的话，比如只是下载文件，是可以单独拿到后台那边去的。

6、那一个具体典型的业务，套进这个框架里形成一个具体的业务线（包括前台和后台）。

7、前台只是一个任务流管理软件 + CAD 交互。

墨菲：如果按这种模式来做，前台只是一个任务流管理软件，通过卡片、任务的形式来展现。

前台那边其实有 2 大类操作，一类是卡片式的任务流（甚至包含比较复杂的生产性操作，比如暖通的洁净空调页面）；另外一大类是通过数据跟 CAD 端交互（占大头）。

墨菲：真个前台客户端，分左右两部分。通过 Tab 来切换，左边的是一个页面，包括侧边栏，是任务流部分；右边的话是一些工具栏的东西。

8、最终要解决的问题：项目开始创建后，到各个专业自动成图。这个过程在数智设计 D4 系统上都能看到。

9、业务线的节点理出来。

一个专业给哪些专业提哪些条件是固定的，这些节点都要理出来，再看一下这些节点如何去一个个串起来。

10、先做一个简单的业务线，比如罐区、空压、冷冻。

复杂的业务线总共可能有 15 个节点，那么我先打通一个简单的业务线，可能只有 5 个节点，那么下次做复杂的就只需再做 10 个节点。一定是打通一个完整业务线。

11、理出流程图。包括用户具体去操作（action）的流程图。
