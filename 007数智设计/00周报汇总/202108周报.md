## 8 月第 1 周

第 31 周

7、总图设计流模块。

在准备代言总图汇报过程中，从设计流一体化的角度想了可供总图专业使用的 4 个模块。找陈学沟通确认后，否定掉一个，又帮我新增了一个。

目前总图设计流模块已确定的：1）提取建筑专业的数据，结合总图设计人员已有的计算公式补全数据，并在总平图内自动生成构建筑物一览表和工程技术经济指标表。2）从工艺的设备布置图里提取罐区的数据，在总平图内自动生成罐区布置的图形数据以及总图的罐区储罐一览表。3）9 种路基结构和 6 中路面结构封装成模块库，两两组合共 54 种道路结构详图成品图纸，供设计人员选择。4）提取给排水专业的管道数据，迁移至总平图供总图的管线综合图使用。

生成构建筑物一览表和工程技术经济指标表模块先做，计划下下周开始开发（第 33 周）。

## 8 月第 2 周

第 32 周

下周计划：

1、间歇反应釜氢化工艺 PID 自动生成。

2、总图自动生成构建筑物一览表和技术经济指标表。

3、格原合作事项。

4、设备工程图深化及意见修改。

5、仪表专业温度计自动选型模块。

4、外管条件模块迁移至 Java 端

本周收到设计人员对外管条件模块的反馈意见，索性趁此机会将该模块从原来的 PHP 开发迁移到新的 Java 后端。目前剩余未迁移的老模块（PHP 开发的）：1）设备一览表模块；2）管道数据数据表模块；3）仪表条件表模块。

5、总图自动生成构建筑物一览表和技术经济指标表

本周三「代言总图」活动结束后，总图专业确认了第一个要做的模块：自动生成构建筑物一览表和技术经济指标表。陈学也安排了该模块具体对接的设计人员（郭真）。目前已经完成了资料、逻辑的对接工作，计划下周发布总图专业设计流第一版。

6、仪表安装图模块。

与华雷讨论了仪表安装图模块。分解任务：1）完成仪表安装图及其索引表格。2）仪表安装图自动生成材料名称和规格表，与已经开发的数据流安装材料等级模块对接。

该模块计划 10 月初开展。

7、格原的合作事项（技术线）

格原的王健（技术总监）联系我们，愿意派一位 CAD 开发人员来我们这边办公。他之前的想法是想把我们之前的功能用新技术框架开发一遍（目的是做成市场上的产品），我这边跟他沟通后定调：新功能用格原提供的技术框架开发（为加快进度先打通全流程）。

沟通后约定，我这边整理出新功能需求框架，下周王健会带技术人员来我们公司做进一步沟通，并明确后续的工作安排。

计划下周沟通要明确掉的事项：1）交给格原用新技术框架开发的功能模块。2）CAD 开发人员的合作形式（我们倾向按季度或半年付他们人力成本）。

另外，资本合作那条线上的事项，等 Nexti 创新例会后再考虑。格原目前的态度：合作方案以天正为主导，我们这边拿出方案后跟他们确认即可。

## 8 月第 3 周

第 33 周

3、间歇反应釜氢化工艺 PID 自动生成。

因适应新模式搁置。周三与格原技术交流后，打算以此模块为试验。我们输出标准数据格式给格原，格原用他们那边的技术框架在CAD中成图。所以有部分数据为适应此模式做了调整。

4、总图自动生成构建筑物一览表和技术经济指标表。

已经做好一版，并让郭真、聂新雨试用。收到的反馈：1）增加文字版表格。之前在总图里生成的表格是以「块」的形式，设计人员希望在增加了个生成「文字版」的表格作为一个中间版，方便快速修改。2）一览表的列数变为可选项。一览表的列数可能会根据实际项目调整，生成前需要设计人员手动选取要生成哪些列。

计划完成上述 2 点修改后再正式发布。

5、给排水自动生成整个项目所有单体的图纸目录汇总。

夏晓寒提的需求。项目前期他们专业经常要求提供一个项目所有单体的图纸目录汇总，因每个单体的图纸目录有一定的固定模式，可以在一个地方设置少量的参数，自动去生成后续所有单体的图纸目录。

了解需求及逻辑后，评估花费的时间较少，而且该逻辑可以推广到其他专业，「插队」开发了该模块。

6、格原合作汇报。

7、格原的合作事项（技术线）

格原的王健以及其团队CAD 端负责人陶斯豪周三下午来我们这边做了技术交流。

主要内容：1）格原的开发人员 9 月份初才能到我们这边就位。2）现阶段的人力成本后续再谈，先双方一起做出点东西。3）格原 CAD 端交互相关的 OA 技术框架没答应现阶段对我们开发，目前只承若我们提供标准结构的数据，他们用数据帮我们在 CAD 里成图。4）确定了首先一起合作的模块是「组装流程图」模块。5）格原开发人员就位之前，该模块我们要提供的：标准json数据、流程图积木组件、成品流程模板。

## 8 月第 4 周

第 34 周

重点工作：

1、数智设计新模式系统性展示。完成空压站、罐区、冷冻站的新作业模式出图。范围界定：1）专业：工艺、设备、仪表、暖通、给排水。2）上述各专业所有设计流目前辐射到的图纸图表。比如工艺的：流程图、设备一览表、设备布置图、管道数据表、土建条件、管道布置图、综合材料表。仪表的：仪表数据表、仪表安装图及材料。等等。

2、设备工程图深化到设备专业的要求，并实现大型储罐的施工图自动生成。

完成的工作：

3、氢化工艺。

已完成加氢工艺流程图的自动生成，下周初我会找赵总和周工做个评估。

5、管道数据表迁移至 Java 端。

已经收到多次反馈：流程图管道数据超 3000 根后导不出管道数据表。原因是 PHP 语言局限性造成的。考虑到自动生成管道数据表是重点工作「新作业模式系统性展示」中的组成部分。该功能模块用 Java 实现解决了管道数量问题，目前自动管道数据无瓶颈了。另外：截至目前，只剩下工艺的仪表条件、设备一览表模块还在 PHP 那边未迁移。

6、设备布置图相关模块（设备图形块优化）

重点工作「新作业模式系统性展示」中设备布置图。目前计划的内容包含：设备图形自动生成、设备定位自动标注、设备布置剖面自动标注、土建条件自动生成。

本周对已有的设备图形自动生成进行了优化，采用了参数化的动态图形模块取代了原来的固定块，实现了根据设备尺寸数据自动调整图形尺寸大小，灵活性大大提高。

下周计划：

1、自动生成空压站工艺流程图。

2、设备工程图深化及意见修改。

3、仪表专业温度计自动选型模块。

4、空压站设备布置图定位自动标注。

5、格原合作事项（提供给格原自动 CAD 成图所需的样本数据）。