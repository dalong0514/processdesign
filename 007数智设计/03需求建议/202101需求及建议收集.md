## 01. 需求收集

## 02. 建议收集

### 2020-01-07

周星：

1、设备的外形尺寸属性外显。—— 已完成（V1.4）

谢剑：

1、一键同步里，剔除：截图箭头、辅助流程。—— 已完成（V1.4）

### 2020-01-27

曾函卫：

1、最开始画图的时候就自动生成图形，并且做绑定。—— 已实现

比如自动生成仪表块，选一个设备块或管道块，自动生成一个集中仪表、就地仪表、SIS 仪表。

比如针对管子很长的管线，再做一个简化版的管线号，选一个管道块，自动生成该管线号。

郑涛：

1、自动截图拼接设备的中文名称。—— 已完成（V1.5）

## 03. 修改记录及 bug

1、新版插件无法导出老版块的数据。—— 已修复（V1.4）

新版块增加了老版没有的属性字段。解放方案：autolisp 里先提出掉老版块没有的 entityName。

贡献者：郑涛（2020-12-05）。

2、新插件无法导出旧版管道块的临时文件以及 txt 数据。—— 已修复（V1.4）

贡献者：谢剑（2021-01-11）。

3、仪表自动编号时卡住。—— 已修复（V1.4）

贡献者：谢剑（2021-01-14）。

解决了 2 个问题：1）仪表没类里没有考虑 SIS 仪表的编号。2）卡住最根本的原因是，有些仪表的初始编号是「空值」，目前没有找到为啥空值导致报错。解决办法：临时文件里核下一下初始编号，编号空值的仪表随意填写一个编号。

4、介质名称太长超出数据表字段最大值。—— 已修复（V1.4）

贡献者：葛兰兰（2021-01-20）。

5、仪表条件里，第 21 列的功能代号提取逻辑有误。—— 已修复（V2.0）

贡献者：牟苏嫣（2021-01-29）。

6、仪表条件里液位的负值无法显示负号。—— 已修复（V2.0）

贡献者：牟苏嫣（2021-01-30）。

## 金点子

收到叶旭峰的启发：两个人分工合作，比如，一个人只做设备数据，一个人只做管道数据，通过临时文件来做，只要数据块不删，约定好完全可以做到互相不干扰。一个星期后 2 人都将临时数据导入到同一个 CAD 文件里同步一下。

贡献者：叶旭峰（2021-01-21）。

## 04. 邮件记录

### 2021-01-27

邮件名：设计流数据一体化升版V1.4

各位：附件为升版 V1.4 后的的相关文件，更新内容如下（具体操作详见说明文档）：

### V1.4 版更新内容

**仪表条件相关：**

1、仪表位号新增按设备号自动编号。（贡献者王禹谋、陈仁勇）

使用前提条件：1）仪表块里「所在位置」的属性要刷好。2）如果仪表在管道上，该管道块「来去向」属性所连的设备位号要刷好。

基本逻辑：1）设备上的仪表，仪表所在位置填有该设备。2）管道上的仪表，找到仪表所在位置对应的管道，接着找该管道里来去向连接的设备（来去向都是设备位号的话以离仪表位置最近的设备为准）。

**设备相关：**

1、储罐、反应釜新增自定义字段。（贡献者孙伟昌）

储罐可能会有外盘管参数信息。储罐块、反应釜块新增了 2 个自定义属性，常规参数不够填往这里填。

2、各设备块的更多属性参数外显。（贡献者周星）

### V1.4 版 bug 修复

1、新版插件无法导出老版块的数据。（bug 贡献者郑涛）

2、新插件无法导出旧版管道块的临时文件以及 txt 数据。（bug 贡献者谢剑）

3、仪表自动编号时卡住。（bug 贡献者谢剑）

图纸里有些仪表的初始编号是「空值」导致的。解决方案：临时文件里核下一下初始编号，编号空值的仪表随意填写一个编号，确保仪表的初始编号不要为「空」。

4、介质名称太长超出数据表字段最大值。（bug 贡献者葛兰兰）