# 1301 定义和参考块

[AutoCAD 2019 帮助：关于定义块](http://help.autodesk.com/view/ACD/2019/CHS/?guid=GUID-F81D7F1E-1F0A-45AD-AC7E-891A85A0033A)

## 01. 关于定义块

可以通过关联对象并为它们命名或通过创建用作块的图形来创建块。

### 1. 在图形中创建块

块在本质上是一种块定义，它包含块名、块几何图形、用于插入块时对齐块的基点位置和所有关联的属性数据。您可以在「块定义」对话框中或通过使用「块编辑器」定义图形几何图形中的块。如果已创建块定义，用户可以在相同或不同的图形中参照它。

以下图例中的块定义包含块名、四条直线和位于两条对角线相交处的基点。在此样例中（以及第二个样例中），当保存该块时，该几何图形将从绘图区域中删除。

以下图例显示了在图形中创建块定义的典型操作序列。

创建用作块的图形文件

可以创建图形文件，用于作为块插入到其他图形中。作为块定义源，单个图形文件容易创建和管理。符号集可作为单独的图形文件存储并编组到文件夹中。

创建用作块的图形文件的方法包括

创建并保存完整图形文件。

使用 EXPORT 或 WBLOCK（写块）创建和保存选定的对象，然后保存到新图形中。

使用任一方法创建一个普通的图形文件，它可以作为块插入到任何其他图形文件中。如果需要作为相互独立的图形文件来保存几种版本的符号，或者要在不保留当前图形的情况下创建图形文件，可以使用 WBLOCK。

如果参照的块基于单独的图形（而不是一组命名的对象），请牢记以下几点：

可以更改图形的基点，以使其能更好地以块的形式工作。

默认情况下，WCS（世界坐标系）原点 (0,0,0) 用作以块插入的图形文件的基点。您可以使用 BASE 命令重置基点以指定不同的插入基点。

如果希望更改原始图形，可考虑将该图形作为外部参照附着，而不是将它作为块插入。

若原始图形在将其作为块插入后已经更新，这些更改不会反映在目标图形中。

将图形作为块插入时，并不包括图纸空间中的对象。

要将图纸空间对象传输到其他图形中，请以块的形式保存对象或将其保存为单独的图形文件，然后将块或图形文件插入到其他图形中。

创建嵌套块

包含其他块的块参照称为嵌套块。使用嵌套块可以简化复杂块定义的组织。

嵌套块的唯一限制是不能插入参照自身的块。

## 02. 关于使用块编辑器

块编辑器提供一种简单的方法，可用来定义和编辑块以及将动态行为添加到块定义。

块编辑器的作用

在块编辑器中，用户可以

定义块

添加动作参数

添加几何约束或标注约束（在 AutoCAD LT 中不可用）

定义属性

管理可见性状态

测试和保存块定义

注： 如果使用动态块，则保持命令窗口显示在块编辑器中，因为它可为创建动态行为的多个方面显示许多提示。

块编辑器中的 UCS

在块编辑器中 UCS 命令被禁用。记住以下几点：

在块编辑器内，UCS 图标的原点定义了块的基点。用户可以通过相对 UCS 图标原点移动几何图形或通过添加基点参数来更改块的基点。

您可以将参数指定给现有的三维块定义，但您不能沿 Z 轴编辑该块。

虽然能向包含实体对象的动态块中添加动作，但无法编辑动态块内的实体对象（例如，拉伸实体、移动实体内的孔，等等）。

## 03. 关于组织块

可以使用块库和工具选项板来组织和管理块。

创建块库

块库是存储在单个图形文件中的块定义的集合。用户可以使用 Autodesk 或其他厂商提供的块库或自定义块库。

通过在同一图形文件中创建块，可以组织一组相关的块定义。使用这种方法的图形文件称为块、符号或库。这些块定义可以单独插入到任何图形中。除了使用方法外，块库图形与其他图形文件没有区别。

在块库图形中定义块时（使用 BLOCK），可以包括简短的块说明。

通过将其插入库图形，并包括提供块名称的文字、创建日期、最后修改日期、以及任何特殊说明或约定，还可以创建每个块定义的视觉索引。

使用设计中心逐个查看块定义，将其从块库图形（或现有的任何图形）复制到当前图形中。设计中心不会使用来自其他图形的块定义覆盖图形中的现有块定义。

使用工具选项板整理块

将块工具添加到工具选项板后，可以通过将该块工具从工具选项板拖动到图形中，或通过单击该块工具并将其放置到图形中来插入块参照。

## 04. 关于插入块

通过将参照插入到已组合为一个块的对象集，可节约时间和控制图形大小。

如何存储并参照块

块是一个或多个组合的对象，用于创建单个命名对象。在创建块或以块的形式插入图形时，所有块信息（包括几何图形、图层、颜色和线型）都将存储在定义的后台表格中。插入的每个块实际上是对块定义的参照。

下图显示通过创建块定义从空白图形到在图形中插入两个块参照的过程。（第二个图像表示保存在块表中的块定义，即使在保存时从绘图区域删除了几何图形。）

使用块具有以下优点：

如果您重新定义块定义，该图形中的所有参照都将自动更新。

您可以通过插入参照而不是对象几何图形来控制图形大小。

可以通过删除操作来删除块参照。但是，相应的块定义仍将保留。若要减小图形的大小，用户还必须通过清理它们来删除所有未使用的块定义。

块插入方法

块可以是绘制在几个图层上的不同颜色、线型和线宽特性的对象的组合。尽管块总是在当前图层上，但块参照保存了有关包含在该块中的对象的原图层、颜色和线型特性的信息。在其上创建图形对象和特定的特性设置的图层会影响插入块中的对象是保留其原特性还是继承当前图层、颜色、线型或线宽设置的特性。

插入块时，请创建块参照并指定它的位置、缩放比例和旋转度。有多种插入方法可供使用：

在当前图形中的块参照插入在同一图形中。

创建块时，其定义将自动保存在块表中，并可用于参照。指定是保留原始几何图形、转换为块，还是从绘图区域中删除。

图形文件作为块插入。

当您将一个图形文件插入到其他图形中时，插入图形的信息将在目标图形的块表中保存为块定义。该块定义的后续参照可显示不同位置、比例和旋转设置，如下图所示。

在图形中插入的外部参照可能不会正常显示，除非以前它已插入或附着到目标图形中。

从工具选项板中插入块。

通过将块工具拖动到图形中，或单击块工具然后指定插入点，可以从工具选项板上插入块。

将块从工具选项板拖动到图形中时，可以根据图形中定义的单位比率自动缩放为在块中定义的单位。例如，如果测量单位在目标图形中为米，在块中为厘米，该块将按照 1/100 的比例插入。

从块库中插入块。

块库是一种图形，通常包含具有类似功能的符号的块定义，这些功能被存储在一起以便于访问和管理。可以从块库中将块定义插入到当前图形文件中。

从设计中心插入块。

设计中心提供一种快速、可视的方式在当前图形或其他图形中拖放块。双击块名以指定块的精确位置、旋转角度和比例。

从「插入」下拉列表中插入块。

图形中的所有块都将自动添加到「插入」下拉列表中，并可用于轻松插入。块保存在当前图形中。

## 05. 关于修改块定义

您可以使用多种方法修改块定义。

修改块定义

有多种方法可用来重定义块定义。选择哪种方法取决于是仅在当前图形中进行更改还是同时在源图形中进行更改。

在当前图形中修改块定义。

块编辑器提供了在当前图形中修改块的最简单方法。在块编辑器中所做的和保存的更改将替换现有块定义，而且将立即更新此图形中该块的所有参照。

修改块定义的另一种方法是创建新的块定义，但要输入现有块定义的名称。可以插入并分解原块的实例，然后在创建新的块定义的过程中使用结果对象。

修改源图形中的块定义并将其重新插入到当前图形中。

更新在另一个图形中创建的块，然后插入到当前图形中不会触发自动更新（与插入外部参照不同）。要更新已在另一个图形中更新的块，必须将其重新插入。

更新来自插入的图形文件的块定义。

修改原图形时，通过插入图形文件的方法在当前图形中创建的块定义不会自动更新。必须重新插入图形才能更新图形文件中的块定义。

更新来自库图形（高级）的块定义。

使用设计中心插入块时，不会覆盖现有的块定义。例如，要插入已在块库中更新的块定义，请使用 WBLOCK 将该块保存为一个单独的图形。然后，插入图形来覆盖旧的块定义。

注： 使用 INSERT 时，块说明被分离了。使用剪贴板将显示在「块定义」对话框中的块说明从一个块定义复制并粘贴到另一块定义。

删除块定义

即使删除了该块的所有参照，块定义仍保留在图形中。要删除该块定义，需要将其清除。

## 06. 关于修改块参照

您可以修改单个块插入，而不影响其定义。

修改块参照

您可以在「特性」选项板中修改块参照的位置、比例、旋转和其他特性。这些更改仅影响块参照的实例，而不影响块定义。

分解块参照

如果需要在一个块中单独修改一个或多个对象，可以将块定义分解为它的组成对象。

在将块分解后，可以

创建新的块定义

重定义现有的块定义

保留组成对象不组合以供他用

分解的块参照已分解为其组成对象；但是，初始块定义仍存在于图形中供以后插入。

注： 通过选择「插入」对话框中的「分解」选项，可以在插入时自动分解块参照。

