## 给沈奕峰的一封信

### 感触大

三大论：信息论、控制论和系统论

5G、工业领域的操作系统、微信

### 目前能做的

构建关系数据库、构建对象

仪表自动选型算法咨询

附件：临时文件、成品数据表、仪表型号汇总、压力表型号、华雷的选型逻辑、压力表选型算法

沈总您好：

想请教您一些仪表选型逻辑的知识。

### 背景

我们经营单元去年 7 月份开始开发「设计流数据一体化」平台，技术上是 CAD 二次开发结合网页（Web）端开发。想要实现公用工程各专业间数据的自动提取、传输、计算和输出一体化。去年已经基本实现了工艺专业内部的数据提取、计算和输出，包括生成仪表条件、电气条件、外管条件、管道数据表、设备一览表、管道仪表自动编号等等。

我们在工艺流程图里通过「属性块」对仪表数据、管道数据、设备数据进行了封装结构化，工艺专业用这个平台生成仪表条件的时候，这三类数据已经自动上传进我们的服务器存入数据库而且进行了关联。目前正在开发的是，直接从数据库里提取仪表、管道、设备数据，结合少量的人工干预，自动生成我们院的仪表数据表。

### 目前的进展

之前与仪表设计人员（华雷、方鹏迪、屠立峰等）交流后确定了如下基本思路：

1、将仪表的基本类型数据封装成「数据集对象」，跟工艺的材料等级表一样。这些「等级号」多一些没关系，每个项目开始的时候，仪表负责人从库里挑选本项目的「等级号」，作为仪表专业统一规定的一个内容（需审核）。

2、直接从「设计流」数据库里提取仪表条件相关数据，综合考虑管道数据、设备数据、物性数据综合，自动匹配出合适的仪表类型「等级号」，生成一个临时性 excel 仪表数据表（横表）。

3、在临时性文件里修改需要「人工判定」的仪表数据，上传到数据流平台，生成我们的成品仪表数据表。

目前在服务器里已经把测量仪表（压力、温度、液位、流量计）的数据库做好了，详见附件里的「仪表型号汇总」以及单独拎出来的「压力表型号」，这是想请教沈总您的第一个事项，仪表型号「等级库」里哪些仪表参数是需要放在基础库里的？

直接提取工艺数据到自动生成仪表数据表，目前整个数据流转打通的模块有：压力表、压力变送器、双金属温度计、一体化温度计、磁性液位计、雷达液位计、液位开关阀。

我之前使用的选型逻辑是华雷个人的选型逻辑（详见附件），目前这个逻辑是按照，常规人一步步走，一次性考虑 2-3 个因素做刷选，而我目前要规整的是一次性综合考虑多个因素（针对机器）。通过与华雷的二次沟通，我整理出了就地压力表的选型逻辑初版（待后续不断迭代补充），详见附件「压力表选型算法」。我现在想要更快的整理出其他仪表的这种算法逻辑。之前听吴总提及，您说仪表数据表有 70-80% 的量是可以用算法支持的。这是想请教沈总您的第二个事项，想听听您有关仪表选型算法的建议。

### 咨询事项汇总

1、基本仪表类型，基础参数的确认。

2、各仪表选型算法建议。

### 最后

沈总您 5 月份给我们分享的「数字化交付」对给我感触很大，相对于三维模型这些数据，更核心的是设计、采购、施工过程中的工程数据，比如设计里的各数据表（管道、仪表、设备等等），这些数据必须拆解成一个个独立的实体对象（而非我们以前整个图纸、文件）存储在数据库，而且能够相关关联。只有这种颗粒度的数据，才能加载上「算法」发挥威力，无论是提升效率（目前我们在做的）还是创造更大价值（数据挖掘）。

我自己原来是做工艺设计的，去年做工艺相关的功能开发相对比较顺利，而目前做仪表选型这块感觉是有些吃力的，所以有了这份邮件。

最后面是我去年每次迭代版本发给工艺专业设计人员的邮件记录，我们的「数据流」平台最开始的 V0.1 版其实很粗糙的，而且也完全没想到会有现在这么多功能，都是靠一部分设计人员主动在用不断迭代出来的，目前我们单元工艺设计人员基本都在用这个平台了。仪表选型这块第一个版本估计也很粗糙，我也希望能跟工艺一样迭代出来。

自从转做软件开发后，发现既懂工艺设计又懂计算机技术的优势真的很大，我是真想早点把工艺和仪表、电气两个专业的数据流转打通，甚至用这些数据做更多的事情，这真的很有成就感。

设计流平台公司的内网地址：192.168.1.38。沈总您可以看下仪表选型的整个使用过程，测试数据的项目号S20101，单体号 03。必须得用谷歌的 Chrome 浏览器。

最后，沈总，您那边什么时间有空？我想到您那边具体汇报下，同时请教一下邮件里提到的 2 个事项，谢谢啦。