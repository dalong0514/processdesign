# 202111周报

# 3 月第三周

第 11 周

1、流程图数据迁移到布置图并生成对应的平面设备模块（100%）。—— 已完成

总结：此功能作用的大小取决于「设备平面图形库」的数量。目前自己只建了常用的立式储罐、搪瓷反应釜的图形库。计划：依靠用户来增加图形库。目前匹配不到图形库数据的话，会自动生成一个「无匹配」的图形，用户看到这个图形后知道库里没有这个设备的图形，如果他自己手里有此设备的图形。他有 2 个途径：1）直接将图形提供于我，放入公共库。2）先在本地建立自己的图形库直接使用（月底宣贯会讲解）。我这边定期从用户那边收集图形库补充进公共的库中。

2、excel 设备数据直接生成流程图设备位号及图形，或直接生成设备图设备位号及图形（100%）。—— 已完成

总结：流程图中各个设备的外形图形库，收集思路同上。

3、温度计选型逻辑图整理并转为代码（10%）。

总结：此项工作投入时间过少。

分析原因：1）本周接近 3 天花费在开发暖通自动生成设备表。2）仪表选型的逻辑，华雷提供给资粮需要二次转化，我这边得消化整理成方便实现的逻辑图并与华雷确认无误后才能去编码实现，整个过程相对于其他功能模块更「麻烦」。所以当其他可以马上开发的功能一过来，自己会「本能性」的去把此项工作往后拖。

举措：后面自己多主动去跟华雷交流。周五找华雷聊的时候发现一个能马上产生效益的需求：自动统计仪表的安装材料，详见工作事项 7。

4、设备型号匹配更多设备数据（25%）。

总结：可以复用的设备型号数据，已完成数据库表单的搭建工作。

5、发布新版设计流数一体化 V2.0并整理文档说明（100%）。—— 已完成

6、暖通专题会。计算书 excel 表自动生成公司 CAD 成品设备表（100%）。—— 已完成

总结：1）确定了最先要做的模块「风机计算 => 风机库数据匹配 => 自动生成设备一览表」。2）确定了设备、数据、流程 3 个团队的具体人员。3）确定了设备、数据、流程 3 个团队负责的主要内容以及初步进度。

最优先开发的模块中目前已经完成了「自动生成设备一览表」，目前已经在使用。计划下周拿到设备团队提供的风机库完成「风机库数据匹配」。

7、仪表安装图材料统计（20%）。

总结：整个实现逻辑跟华雷一起打通了。6 大类材料，计划下周（第 12）把其中最繁琐的「管件」材料打通，拿出一个成品，第 13 周完成其余五项材料的统计。

8、土建总图设计流专项（5%）。

总结：3.17 日，邱总牵头，土建总图 10 来个人进行了设计流的专项讨论。明确了现阶段想做的内容：把建筑、结构、总图，复用性比较高的图形数据放到公共数据库，每个设计人员根据「搜索」直接调用。王玉松、方琼、陈学负责各自专业的「素材」收集。沈洋负责具体与我对接。另外：李奕峥跟我单独聊后有自己的想法，周末他会去整理下逻辑数据，我们想先做一个「自动生成罐区泵房」的功能。

9、方框图自动生成 PID 输入界面探索（20%）。

总结：之前考虑的技术方案 2 —— 方框图界面也放在 CAD 里面。细节性的技术试验了一下，目前认为可行。计划第 14 前打通罐区一个储罐，方框图自动生成一个储罐流程的组件。

10、设计流数据一体化实现「客户端产品化」（5%）。

总结：把设计流数据一体化打包成一个「客户端产品」需完成 2 大核心步骤：1）前端交互界面，转为客户端的开发，而且客户端是可以编译后放到用户电脑里的。这样看不到我们的源码。2）后端程序的打包编译。客户端产品化之后，顺带解决了之前保密室的问题，我们的产品可以直接安装到业主的服务器上供其使用，设权限和使用时间均可。

计划：1）之前前端我们是放在网页上的，跟协助人员商量后使用 Electron 技术栈开发客户端。目前的思路：新功能直接放到客户端，老的功能后续慢慢迁移到客户端。2）后端程序之前采用的是 PHP，无法编译打包，如果直接部署到业主服务器相当于泄露我们的源码。目前的思路：JAVA 更稳定而且可以打包发布，以后设计流系统做复杂后也会考虑转成JAVA 开发，正好常恃豪之前做 JAVA 开发，我会让他重新搭建一套 JAVA 系统，新功能开发直接放到JAVA 框架里，老的功能后续慢慢迁移到JAVA。

另外：临时 excel 文件可以缓解部分压力。

## 下周计划

1、准备月底设计流宣贯会资料并配合「朝闻道」发布报名相关通知。

2、准备4 月组设计流专题组会议的资料。

3、温度计选型逻辑图整理并转为代码。

4、仪表安装图材料统计。

5、设备型号匹配更多设备数据

6、方框图自动生成 PID 输入界面探索

7、暖通专题 —— 风机库数据匹配。