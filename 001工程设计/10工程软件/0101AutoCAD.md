## 01. 知识汇总

### 1. 点过滤

.x 和 .y 的使用。

### 2. 基点捕捉

跟点过滤同一层次的重要，任何命令需要输入点坐标的时候都可以用，输入 FROM，选基点，比如柱子中心，输入偏移值，比如 `@500,500`。

### 3. 选择上一次选的选择集

输入一个操作命令后接着输入命令 P。

### 4. 命令行界面切换到文本界面

快捷键 F2。

### 5. filedia 的值设为 1

### 6. 坐标

数据的输入方法用的最多的就是直角坐标法和极坐标法，每个坐标法又有绝对坐标和相对坐标两种。

`100,100`；`@100,100`；`100<45`；`@100<45`；

### 7. 活用快速选择功能

工具 >> 快速选择；快捷键 QSE。

### 8. 活用拉伸命令 S

一定要框选，注意，用交叉窗口选择对象后，落在交叉窗口内的端点被拉伸，落在外部的端点保持不动。

### 9. 活用修复命令 TR

配管修图，类似于打断阀门之间的管线就用 TR 不要用打断命令了。TR 选择 2 个法兰的位置，空格后选中间的管道直接打断。

TRIM 或者 TR；在最后一步选择对象时，按住 shift 系统自动将修剪命令变为延伸命令。

会用选项，边 E，延伸边界进行修剪，当修剪的边没有与要修剪的对象相交时；选项栏选 F，以栏选的方式选择被修剪对象；选项窗交 C，以窗交的方式选择被修剪对象。

### 10. 打断命令

BREAK 或者 BR；命令之后选择好要打断的对象后一定要用选项 F，这样可以任意选择 2 个点，打断 2 个点之间的东西，流程上和配管上很多地方要用；如果选择的第二个点在对象的外部，则对象的该端被切掉。

### 11. 复制类编辑命令

偏移命令。OFFSET 或者 O；会用偏移距离和通过这 2 各选项；可以偏移一个整体的，比如长方形。

旋转命令。ROTATE 或者 RO；会用参照 R 这个选项。

### 12. 圆直径的标注把里面的线去掉

选上标注，ctrl+1 进属性，在调整面板里把尺寸线强制关掉。

### 13. 单线图里的标注倾向设置

先按对齐标注标好，点「标注」里的「倾向」选中要改的标注，再点要倾斜的角度即可。

### 14. 配管后打断的操作

结合两个工具：自己开发的 XX/YY 来打断单个的；用 mline 拉好，打断成批的。

### 15. 如何创建带属性的块

[AutoCAD 2019 帮助: 关于定义块](http://help.autodesk.com/view/ACD/2019/CHS/?guid=GUID-F81D7F1E-1F0A-45AD-AC7E-891A85A0033A)

[在AutoCAD中怎么定义块属性、创建块和插入块？ - CAD自学网](http://www.cadzxw.com/960.html)

1、绘图 >> 块 >> 定义属性。模式选「锁定位置」，属性里填上「标记」、「提示」、「默认」，文字设置一下。

2、准备好属性、图形后，B 快捷键来定义块即可。

### 16. 插入带属性的块时取消要求输入属性值

将系统变量 ATTREQ 设置为值 0，设为 1 的话每次插入块时要求输入属性值。

顺便查到 ATTDIA 系统变量均设置为值 1，是弹出面板，设为 0 不弹。

### 17. 安装 express tool

进入控制面板，选中 CAD 后点卸载，进入安装卸载页面，点更新软件，选中 express tool，点安装，安装路径在公司网盘里路径很深的地方。

安装完后要自己通过「appload」加载 2 个插件，`acettest.fas` 和 `acetuils.fas`，一看就知道这 2 个是编译后的文件。

关于汉化：直接用汉化的 `acetmain` 替换掉原来的，文件路径为：`C:\Users\fengdalong\AppData\Roaming\Autodesk\AutoCAD 2014\R19.1\chs\Support`。

### 18. 块里设置区域覆盖

工具栏「绘图」里有一个区域覆盖；绘制的区域覆盖的需要后置（右键）。

可以直接用命令 `WIPEOUT`。而且还能实现区域覆盖边框的隐藏（异径管用此实现）。命令后按 `F` 边框，选择输入模式为关闭 `OFF`。

1『遇到一个情况，改完图层后发现异径管的那个隐藏框又「显示」出来了。解放方案：还是用命令 `WIPEOUT`，然后用选项 `F` 和 `OFF`。（2021-03-03）』

## 02. 问题收集

### 1. 即使调了样式，打印出来的还是浅颜色的

这是因为使用了命名打印样式，输入命令 CONVERTPSTYLES，显示「打印样式图形转化为使用颜色相关打印样式」可转化。

### 2. 去「教育」打印的方法

方法 1：

先修复，文件 => 图形实用工具 => 核查；另存为 dxf 格式，再另存为 dwg 格式；很多时候转成 dxf 后打不开，目前的解决方法是先用 AcmeCADConverter 转换成 R14，应该是 14 版的 dxf 格式，接着用 CAD 打开该 R14 文件，另存为 dwg 就 OK 了。

方法 2：直接用插件。

### 3. 如何删除已经定义了的块

首先把块的那个图像给删了，接着 purge，清理掉要删除的块。

### 4. 布局的背景颜色改为黑色后还是白色

改完后在显示面板中，布局元素里把显示图纸背景勾掉就行了。

### 5. 启动 CAD 时 CADWORX 插件自动加载

命令 OP 进选项 => 配置 => 重置。

### 6. XA 插入外部参照的时候总是跑偏

那是因为基点不知道什么原因偏了，输入命令 base，指定基点为 0，0，0 就 OK 了。

### 7. CAD用着用着总是容易死机

网上说到一复制就死机的情况，说是因为图形文件内部存在大量的注释性比例，当粘贴新的对象到文件时 CAD 会自检一遍这些比例设置，当比例有成百上千条时，这个过程就需要很长时间，CAD 程序也就会出现反应中止的现象了。

解决的办法如下：

方法 1：命令:  `-scalelistedit`，然后选项里选重置；该方法试过还是没有解决问题。

方法 2：把动态输入关了。

目前试过以上 2 中方法都不行。

### 8. 带基点复制就是拷不进目标文件里，可以拷进一个空白的文件

说明目标文件有问题，先把目标文件存为 dxf 格式的，就可以拷进 dxf 格式的文件里了，做完再存为 dwg 格式。发现存为 dxf 格式这一招屡试不爽。

### 9. 镜像命令后文字和图形总是倒着的

输入命令 MIRRTEXT，把值从 1 改为 0。

### 10. autolisp 打开后自动消失

VLIDE.DSK 出错。

`C:\Users\Administrator\AppData\Roaming\Autodesk\AutoCAD 2012 - Simplified Chinese\R18.2\chs\VLIDE.DSK` 文件，关闭 CAD，接着改为「VLIDE.DSK.BAK」，重启 CAD 和 VLIDE 即可。

### 11. CAD 打出来颜色很淡

后来发现 CAD 打印样式表无法选择 .ctb 样式（带颜色的），输入 convertpstyles，转换打印样式 stb 为 ctb，就可以选择了。

### 12. 双击打不开图纸

装完「天正电气」后出现的问题。

解决办法：输入命令「taskbar」设置为 0，然后右键 CAD 的快捷方式点属性，选择以兼容性运行，把「以管理员身份运行此程序」打勾去掉。