# 
> 2018000模板



第 5 章　连续性和可导性


一般而言, 函数的图像只有一点比较特殊：它必须满足垂线检验.这并非是其特有的. 图像可能会遍及各处(这里有一点儿,那里有一条垂直渐近线,或它们喜欢的随便什么地方的任意个数的不连续点, 因此,现在我们很想了解函数图像的特征,如果我们更专业一些的话：我们想要看看两种类型的平滑程度. 首先是连续性, 直觉告诉我们,连续函数的图像必须能一笔画成. 其次是可导性,直觉上, 在可导函数的图像中不会出现尖角.在这两种情形中, 对于定义我们要做很多更深入的工作,并且我们将看到一些你从带有这些性质的函数中期待得到的内容.详细地说, 以下就是我们将在本章中所要研究的内容：

在一点处及在一个区间上连续;



连续函数的一些例子;



连续函数的介值定理;



连续函数的最大值与最小值;



位移,平均速度和瞬时速度;



切线和导数;



二阶导和高阶导;



连续性和可导性的关系.





5.1　连续性


函数是连续的, 这到底意味着什么呢？我们就从这里开始吧.正如我上面所说, 直觉告诉你我们可以一笔画出连续函数的图像. 对于像y= x2这样的函数是很好一笔画出来的, 但是对于像y = 1 /x这样的函数, 就有一点儿不公平了. 其图像本来都是在一起的, 可是在x= 0处有一条垂直渐近线, 它把图像分成了两部分. 事实上, 如果f(x) = 1 / x, 那么我们想要说的是, 除了在x = 0外,f处处连续. 因此, 我们必须理解在一点处连续是什么意思. 然后,我们将会考虑在像区间一样更大的区域上的连续性.





5.1.1　在一点处连续


我们以一个函数f和其定义域中的在x轴上的点a开始. 当我们画y =f(x)的图像时, 通过图像上的点(a,f(a))时我们不想提起笔.如果我们在其他地方必须提起笔的话, 这也不要紧, 只要我们在(a,f(a))的附近不提起笔就行了. 这意味着,我们想要一串点(x,f(x))变得越来越接近(事实上是任意地接近)于点(a,f(a)). 换句话说, 当x → a时, 我们需要f(x) → f(a). 没错, 女士们, 先生们,现在我们正在处理极限问题. 我们可以给出一个恰当的定义：

如果, 函数f在点x = a处连续.



当然, 为了让前面的等式有意义, 等号两边必须都是有定义的.如果极限不存在, 那么f在点x = a处不连续,而如果f(a)不存在, 那么事实将被彻底地扭曲,那里甚至没有一个点(a,f(a))可以通过！因此, 我们可以对定义进行更精确一些的描述,并明确地要求以下三条成立：

1. 双侧极限存在(并且是有限的).

2. 函数在点x = a处有定义; 即f(a)存在(并且是有限的).

3. 以上两个量相等, 即



　让我们来看看,如果任意一条性质不满足, 那会怎么样. 我们考虑图5-1.



图　5-1

在标号为1的图中, 在x = a处的左极限和右极限不相等,则双侧极限不存在; 所以, 函数在点x = a处不连续. 在标号为2的图中,左极限和右极限都存在且是有限的, 并且左右极限相等, 故双侧极限存在;然而, 函数在点x = a处无定义, 因此, 函数在点x = a处不连续.在标号为3的图中, 双侧极限也存在, 函数在点x = a处有定义,但是极限值和函数值不相等; 函数在点x = a处又一次不连续. 另一方面,在标号为4的图中, 由于双侧极限在点x = a处存在, f(a)存在, 并且极限值和函数值相等, 因此, 函数的确在点x = a处连续. 顺便要说的是, 我们说前三个图中的函数在点x = a处有一个不连续点.





5.1.2　在一个区间上连续


现在我们知道函数在一个单点上连续的定义了. 我们来把该定义扩展一下,如果函数在区间(a,b)上的每一点都连续，那么它在该区间上连续. 请注意, 事实上, f没有必要在端点x = a或x = b上连续. 例如, 如果f(x) = 1 / x, 那么,f在区间(0,∞)上连续, 即使f(0)无定义. 该函数在区间(-∞ ,0)上也连续, 但是在(-2,3)上不连续,由于0位于此区间内, 而f在那里不连续.



图　5-2

对于形如[a,b]的区间又如何呢？我们必须更灵活些.例如, 图5-2是函数在其定义域[a,b]上的图像;我们想说的是它在[a,b]上连续.问题是, 双侧极限在端点x = a和x = b处不存在：在点x = a,我们只有一个右极限, 而在点x = b, 我们只有一个左极限. 这也不错;我们只需用在端点处的适当的单侧极限来修正我们的定义. 因此,我们说函数f在[a,b]上连续,如果

1. 函数f在(a,b) 中的每一点都连续;

2. 函数f在点x = a处右连续; 即,存在(且有限),f(a)存在, 并且这两个量相等; 以及

3. 函数f在点x = b处左连续; 即,存在(且有限),f(b)存在, 并且这两个量相等.

最后, 如果函数在其定义域中的所有的点都连续, 我们就说它是连续的.如果函数的定义域包括一个带有左端点和/或右端点的区间, 那么,在那里我们需要函数的单侧连续性.





5.1.3　连续函数的例子


很多的常见函数都是连续的. 例如, 每一个多项式都是连续的.这看起来好像不太好证明, 因为有很多不同的多项式,但事实上并不是那么难证明. 首先, 让我们证明定义为f(x)= 1的常数函数f, 对于所有的x, 在任意一点a处都连续. 好吧,我们需要证明



由于对于任意的x都有f(x) = 1, 并且f(a) = 1, 那么, 这意味着我们需要证明



显然上式成立, 因为所有的一切都不依赖于x和a. 现在,我们设g(x) = x. g是连续的吗？我们需要证明



由于g(x) = x且g(a) = a,这就将问题简化为证明



显然上式也成立：当x → a时, 当然会有x → a！现在我们只需要观察,一个连续函数的常数倍是连续的; 此外,如果你对两个连续函数做加法、减法、乘法或复合,你会得到另一个连续函数(更多详情请见附录A的A.4.1节).当你用一个连续函数除以另一个连续函数的时候,这几乎也一样成立：除了分母为零的点外, 商函数处处连续. 例如,除了在x = 0处, 1 / x在其他各处都是连续的,因为我们已经看到分子分母同为x的连续函数.

不管怎样, 让我们回头看一下多项式. 因为g(x) =x是x的连续函数, 我们可以让g和它自己相乘,会看到x2也是x的连续函数. 你想要多少个x和它自己相乘都可以,这样可以证明x的任意次幂(作为x的函数)的连续性. 然后,你可以乘以常数系数, 并将不同次幂相加在一起, 得到任意一个多项式,每一项仍然都是连续的！

　这可以看出,所有的指数函数和对数函数都是连续的, 同样,三角函数也一样(除了在它们的渐近线上). 我们暂且认为这是理所当然的,并会在5.2.11节中重述这一点. 同时, 我想来看一看一个更奇异的函数.我们考虑函数f, 其定义为f(x) = x sin(1 / x). 在3.6节我们看到了它的图像(至少是当x > 0时的图像).事实上, 当x < 0时对图像做扩展真的是很容易的,因为f是一个偶函数. 为什么呢？记得吗, sin(x)是x的奇函数, 我们有



因此, f的确是偶函数, 通过使用y轴做镜面反射之前的图像,我们可以得到f的图像(图5-3只显示了在定义域 - 0.3 < x <0.3上的图像).



图　5-3

现在, 让我们来考虑一下函数的连续性. 作为x的函数, 我们知道,除了在x = 0处, 1 / x在其他各处都是连续的. 现在,我们将它与正弦函数作复合, 得到的函数依然是连续的, 并且你会看到,除了在x=0处, sin(1 / x)在其他各处也都是连续的. 现在, 你只需要用x和sin (1 / x)相乘(这显然是x的连续函数！)就会看到除了在x =0处外, f在其他各处都是连续的.

那么, 在x = 0处发生了什么呢？显然, f在x = 0不连续, 因为它在那里甚至没有定义(在图像上有一个洞).让我们来定义一个函数g如下, 将这个洞堵上：



因此, 除了在x = 0 (此时g等于0, 而f无定义)外, g(x) = f(x). 因此, g必然是处处连续的, 而f除x= 0外处处连续. 我们现在需要来看看在x = 0处发生了什么.由于g(0)有定义, 我们就有希望. 此外,我们使用3.6节的三明治定理来证明



通过对称性(或再次使用三明治定理), 我们可以看到左极限也等于0.事实上双侧极限也为0：



因此我们证明了



由于等号两边都存在且等于0. 这意味着, 事实上g在x =0处是连续的, 尽管它是一个分段函数的形式.

我们差不多已经准备好了, 来看看两个涉及连续性的很好的事实吧. 首先,我想回到第4章开始时我曾讲解的一个知识点.我们看到的第一个例子是



我们将x = - 1代入上式求解得到结果为 - 2.这为什么是合理的呢？我们的理由看上去和上述极限的值与其在x = -1处发生的情况无关, 仅仅和在x = - 1附近的情况有关这一点相矛盾.这里就是连续性了：它将“附近的”与“在”联系起来. 特别是,如果我们令f(x) = (x2 - 3x + 2) /(x - 2), 那么, 由于分子和分母都是多项式,除了在分母为0的点外, f是处处连续的. 也就是说, 除了在x = 2处,f是处处连续的. 因此, f在x = - 1上是连续的, 这就意味着,



我们用其定义替换f, 会有



这就是完整的解. 实际上,很少有数学家会不厌其烦地把这些细节都写出来,但是这样做会有助于你理解你在做什么！





5.1.4　介值定理


知道一个函数是连续的会有很多好处. 我们将看到两个这样的好处.第一个被称为介值定理, 或简写为IVT.基本思想是：我们假设一个函数f在一个闭区间[a,b]上连续. 此外, 假设f(a) < 0且f(b) > 0. 因此, 在y = f(x)的图像上,我们知道点(a,f(a))位于x轴的下方,而点(b,f(b))位于x轴的上方,如图5-4所示.



图　5-4

现在,如果你必须用一条曲线(它当然要服从垂线检验)来连接这两个点,并且你不允许抬起笔来, 直觉上显然是,你的笔将和x轴上a和b之间的某处至少相交一次.交点也许在a的附近或b的附近, 或者在a和b中间的某处;你必须相交至少一次. 这就是说, x轴截距在a和b之间的某处.函数f在区间[a,b]上的每一点都是连续的,这一点至关重要;我们来看看如果f仅仅在一点处不连续会怎样, 如图5-5所示.



图　5-5

不连续点让函数在x轴上发生跳跃而不是通过x轴. 因此,我们需要在整个区域[a,b]上的连续性.如果我们从x轴上方开始并在x轴下方结束, 这也是正确的; 即f(a) > 0且f(b) < 0, 如果f在[a,b]上的每一点都连续, 那么, 在[a,b]上的某处,我们必定会有一个x轴截距, 以上所讨论的同样成立.由于x轴截距意味着f(c) =0,我们可以总结介值定理如下：

介值定理：如果f在[a,b]上连续, 并且, f(a) < 0且f(b) > 0, 那么, 在区间(a,b)上至少有一点c, 使得f(c) = 0. 如果f(a)> 0且f(b) < 0, 同样成立.}



　该定理的证明请见附录A中的A.4.2节.现在, 让我们来参考一些例子是如何应用此定理的吧. 首先,假设你想要证明多项式p(x) = - x5 + x4 + 3x + 1在x= 1和x = 2之间有一个x轴截距. 你所要做的就是注意到,由于它是一个多项式, 所以p是处处连续的(包含[1,2]); 此外, 计算p( 1 ) = 4 > 0且p( 2) = - 9 < 0. 由于p( 1 )和p( 2)的符号相反, 且p在[1,2]上连续,我们知道在区间(1,2)上至少存在一点c使得p(c) = 0. 数c就是多项式p的一个x轴截距.

　这里是一个稍微难一点的例子.如何证明方程x = cos (x)有一个解呢？你不需要求出解来, 只需要证明有一个解.你可以先在同一坐标轴上画出y = x和y = cos (x)的图像. 如果你这样做了, 你会发现图像的交点在π/4附近有一个x - 坐标. 这个图像式讨论距离一个数学证明也不远了.我们如何做得更好呢？

第一步是使用一个小窍门：将所有表达式放到等号左边. 因此,我们试着来求解x - cos (x) = 0,而不是求解x=cos(x). 现在, 我们必须初始化, 设f(x)= x - cos (x).如果我们可以证明存在数c使得f(c) =0的话就算完成任务了. 让我们来检验一下这是否有意义：如果f(c) = 0, 那么c - cos (c) = 0, 因此c = cos(c), 并且我们找到了方程x = cos (x)的一个解, 它就是x = c.

现在, 该使用介值定理了. 我们需要找到两个数a和b, 使得f(a)和f(b)其中一个是负的而另一个是正的.由于我们认为(从图像中)答案会在π / 4附近, 我们将保守地选取a =0和b = π / 2. 让我们来检验一下f(0)和f(π / 2)的值吧. 首先, f(0) = 0 - cos(0) = 0 - 1 = - 1, 它是负的, 其次, f(π / 2 ) = π / 2 - cos ( π / 2 ) = π / 2 - 0= π / 2, 它是正的. 由于f是连续的(它是两个连续函数的差),根据中值定理我们可以得出, 在区间(0,π /2)上存在某个数c使得f(c) = 0,并且我们证明了x = cos (x)有一个解.我们不知道解在哪里, 也不知道会有多少解, 只是知道在区间(0,π / 2)上至少有一个解. (注意, 不一定在π/4上！事实上, 不可能找到一个有关解的很好的表达.)

　这里有一个小小的变形.到现在, 我们都是规定f(a) < 0且f(b) >0(或另外一种情况), 然后得出结论, 在(a,b)上存在一点c使得f(c) = 0. 然而,现在我们可以用任意数M来替换0, 且结果依然成立. 因此,假设f在[a,b]上连续; 如果f(a) < M 且 f(b) > M(或另外一种情况), 那么, 在(a,b)上存在一点c使得f(c) = M. 例如,如果f(x) = 3x + x2, 那么, 方程f(x)= 5有解吗？当然f是连续的; 我们也可以猜出解在0和2之间,这样会有f(0) = 1和f(2) = 13.由于数1和13围绕着目标数5(一个小一点而另一个大一点),介值定理告诉我们, 对于(0,2)上的某个c有f(c) = 5.

　这就是说,f(x) = 5确实有解. 现在, 我们试着以一个新的函数g,其定义为g(x) = 3x +x 2 - 5来重复做一遍.如果你相信f(x) = 5有一个解是c,那么c也是g(x) = 0的解. 由于g(0) <0且 g(2) > 0,你可以使用先前的方法而不用变形！事实上,变形并没有给我们提供任何新的信息,它只是有时候会让生活变得更简单些.





5.1.5　一个更难的IVT例子


　最后一个例子：让我们证明任意的奇数次多项式至少有一个根.这就是说, 令p是一个奇数次多项式, 我断言,至少有一个数c使得p(c) = 0.(这对于偶数次多项式不成立. 例如, 二次的x2 + 1没有根,其图像和x轴不相交.)可是如何来证明我的断言呢？

事实上, 问题的关键可以追溯到4.3节. 那里, 我们看到了, 如果p(x )是任意的多项式, 且其首项为an xn, 那么,

　且

因此, 当x变得非常大时, p(x)和an xn会相对地彼此靠近(它们的比值接近于1). 这意味着,它们至少有相同的符号！不可能是一个负一个正,也不可能是它们的比值为负, 且不接近于1.当x是一个非常大的负数时情况也是一样的.

因此, 我们假设A是一个很大的负数, 致使p(A)和anAn有相同的符号. 此外, 我们将选取一个非常大的正数B使得p(B)和anBn有相同的符号. 现在, 让我们来比较一下anAn和anBn的符号. 由于n是一个奇数,它们的符号一定相反！一个为正而另一个为负. 例如, 如果an > 0,那么anBn为正且anAn为负.(只有当n是奇数时才成立：如果n是偶数, 那么,这两个量均为正.)因此, 我们有：



所以, p(A)和p(B)的符号相反.由于p是一个多项式, 它是连续的; 根据介值定理,在A和B之间有一个数c, 使得p(c) = 0. 这就是说,p有一个根, 尽管我们真的不知道它在哪儿, 这也是合乎情理的,因为我们不知道p是什么样子的多项式, 只知道它是奇数次的.





5.1.6　连续函数的最大值和最小值


让我们来看看知道一个函数是连续的给我们带来的第二个好处吧. 假设,有一个函数f, 我们知道它在闭区间[a,b]上连续.(非常重要的是, 区间的两个端点都是闭的.)这意味着,我们拿笔放在点(a,f(a))上, 由此出发,笔不离纸地画一条曲线, 并结束于点(b,f(b)). 问题是, 我们能画多高？换句话说,这条曲线能够达到的高度有限度吗？回答是肯定的, 一定有一个最高点,尽管曲线可以达到最高点很多次.

用符号表达, 我们说, 定义在区间[a,b]上的函数f在x = c处有一个最大值,如果f(c)是f在整个区间[a,b]上的最大值. 即, 对于区间上所有的x, f(c)≥ f(x). 我暗示的基本思想就是, [a,b]上的连续函数在区间[a,b]上有最大值.对于“我们能走多低？”来说, 我们有同样的解释. 我们会说, f在x = c处有一个最小值, 如果f(c)是f在整个区间[a,b]上的最小值. 即,对于所有[a,b]上的x, f(c) ≤(x). 再次, 区间[a,b]上的任何连续函数在该区间上都有最值. 这些事实构成一个定理,有时被称作最大-最小定理,陈述如下：

最大-最小定理：如果f在[a,b]上连续, 那么f在[a,b]上至少有一个最大值和一个最小值.



这里有一些例子, 是关于[a,b]上的连续函数和它们的最大值与最小值的(当然,这分别是最大值与最小值的复数形式), 如图5-6所示.



图　5-6

在图5-6的第一幅图中, 函数在x = c处取得最大值并在x =d处取得最小值. 在第二幅图中, 函数在x =c处取得最大值而在左端点x = a处取得最小值. 在第三幅图中,最大值在x = b处, 而最小值在x = c和x = d上.这是可以接受的(允许有多个最小值, 只是至少得有一个). 最后,第四幅图展示了一个常数函数, 它是连续的; 事实上,由于函数绝不会越过或低于常数C, 所以区间[a,b]中的每一个点既是最大值也是最小值.

那么, 为什么函数f必须是连续的呢？并且,为什么它不能是一个像(a,b)一样的开区间呢？图5-7显示了一些潜在的问题：



图　5-7

在第一幅图中, 函数f在区间[a,b]的中间有一条渐近线, 它当然会产生一个不连续点.该函数没有最大值, 它只是在渐近线的左侧会无限上升. 类似地,它也没有最小值, 因为它在渐近线的右侧会无限下降.

中间的那幅图涉及了一个更微妙的情况. 函数只在开区间(a,b)上连续. 显然, 该函数在x = c处有一个最小值,但是它的最大值是什么呢？你或许会想它出现在x = b处, 再想想看啊.该函数在x = b处没有定义！因此, 它不可能在那里有一个最大值.如果该函数有一个最大值, 那么它一定在b附近的某处. 事实上,你想要它是一个小于b并接近于b的数. 很不幸,没有这样的数！无论你想到多么接近于b的数,你总是可以取该数与b的平均数得到更接近于b的数. 因此,该函数没有最大值. 这说明, 为了确保可以使用最大!--!最小定理,连续性区间必须是闭的.

当然, 即使区间不是闭的, 该定理的结论也可能会成立. 例如,在以上的第三幅图中, 函数只在开区间(a,b)上连续,但它仍然在x = c处有一个最大值并在x = d处有一个最小值.这只是一个幸运情况. 你只能使用定理来保证区间[a,b]上的最大值与最小值的存在性,如果你知道函数在整个闭区间上是连续的话.





5.2　可导性


我们已经花了一些时间来学习连续性了.现在该来看看函数的另一个平滑度——可导性了.这主要是指函数有导数. 因此, 我们会花上一些时间来研究导数.发展微积分的原始的灵感之一来自试图去理解运动物体的速度、距离和时间的关系. 因此, 让我们从那里开始, 之后再回到函数中去.





5.2.1　平均速率


想象一下, 在高速路上给一辆汽车拍照. 曝光时间非常短, 因此并不模糊,你甚至不能分辨那辆车是不是在动. 现在,我问你：拍照时汽车的运动速度有多快？ 你会说没有问题,使用经典公式



就可以了. 问题是,照片不涉及距离(那辆车没有动)或时间(照片实质上是捕捉瞬时效果).因此, 你不能回答我的问题.

嗯, 但如果我告诉你, 拍照之后的一分钟,汽车行驶了一英里呢？这时你就可以使用以上公式来计算了,汽车一分钟开了一英里, 速率是60英里/小时. 还有,你如何知道汽车在那一分钟里的速率是一样的呢？在那一分钟里,可能会有多次的加速度和减速度.你不知道在那一分钟的开始它究竟开得有多快. 事实上,上述公式并不精确：等号左边应该是平均速率,因为那是我们已经发现的.

好吧, 我遗憾地告诉你, 在第一个10秒钟, 汽车行驶了0.25英里. 现在,你可以使用该公式来计算,在第一个10秒钟内的平均速率是每分钟1.5英里或90英里/小时.这样有些帮助, 但是在10秒钟后汽车仍然可能会改变其速率,我们真的不知道它在那段时间的开始会有多快.不过速率也不可能跟90英里/小时差太多, 因为在这么短的时间里,汽车只可能会加速或减速这么多.

如果知道在拍照后的一秒钟里汽车走了多远的话, 那将会更好,但这还是不完美的. 甚至0.000 1秒或许对于汽车改变速率已经足够了,但实际上并不需要那么久. 如果你意识到了, 我们正在引导极限的话,你就非常正确了. 尽管如此, 我们首先需要看一看速度的概念.





5.2.2　位移和速度


想象一下, 汽车在一条长直的高速路上行驶. 里程表有点奇怪,在某个点上出现0标志, 在其左侧, 标志始于-1并且变得越来越负.在0标志的右侧一切正常. 事实上, 整个情形看上去就像图5-8.



图　5-8

假设, 汽车始于2英里处并直接驶向5英里处. 那么,它行驶的距离是3英里. 但如果是始于2英里处但向左行驶到了- 1英里处,它行驶的距离也是3英里. 我们想要区分这两种情形, 因此,我们将使用位移来代替距离. 位移公式就是：

位移 =(终点位置)-(初始位置).

如果汽车从位置2驶到位置5, 那么位移是5 - 2 = 3英里.但如果是从位置2驶到了位置- 1, 那么位移是(-1 ) - 2 =- 3英里. 因此, 和距离不一样, 位移可以是负的. 事实上,如果位移是负的, 那么汽车将终止于它起始的左侧.

距离和位移之间的另外一个重要区别就是位移仅仅涉及终点和初始位置,汽车在行驶过程中的情况是无关紧要的. 如果它从2走到11,然后又返回到5, 距离是9 + 6 = 15英里, 但是总位移仍然只是3英里.但如果它从2走到 - 4然后又返回到2, 位移实际上是0英里,尽管距离是12英里. 然而, 如果汽车只向一个方向行驶, 没有后退的话,那么, 距离就是位移的绝对值.

正如我们在上一节看到的, 平均速率是行使距离除以行驶时间.如果你用位移来代替距离, 你会得到平均速度.即,



再次说一下, 速度可以是负的, 然而, 速率必须是非负的.如果在一定的时间段内, 汽车有一个负的平均速度,那么它终止于起始的左侧. 但如果在一定的时间段内平均速度是0,那么汽车终止于它的起始位置. 请注意, 在这种情况下,汽车或许有一个很高的平均速率, 即使其平均速度为0！总的来说,就像位移, 如果汽车沿着一个方向行驶, 那么,平均速率就是平均速度的绝对值.





5.2.3　瞬时速度


现在, 我们用速度来重新考察一下我们的关键问题：在给定的瞬间,你如何测量汽车的速度呢？正如我们在上面看到的, 基本思想就是,始于拍照时刻, 在越来越小的时间段上, 求汽车的平均速度.下面就是如何用符号来表达这个思想过程了.

令t是我们关心的时刻. 例如, 如果比赛始于2: 00p.m.,你可能决定要用秒表, 用0表示开始时间. 那种情况下, 如果拍照时间是2:03p.m., 那么, 你想要取t = 180. 不管怎样,假设u是t之后的一段很短的时间. 我们写表示汽车在始于时间t终止于时间u的时间段上的平均速度. 现在,我们让u越来越靠近t.多近呢？能有多近就多近！那是极限出现的地方. 事实上,

在时刻t上的瞬时速度 =

为什么要忽略在时刻t之前的细节呢？通过允许u在t之前,我们可以让以上定义变得更一般一些. 然后,我们可以用双侧极限替换右极限：

在时刻t上的瞬时速度 =

现在, 我们需要更多的公式.让我们假设我们知道在高速路上汽车在任意时刻的准确位置. 特别是,假设在时刻t, 汽车的位置是f(t). 这就是说, 令

f(t) = 汽车在时刻t的位置.

我们现在就可以准确地计算平均速度了：



请注意, 分母u -t是所用时间的长度(如果u在t之后1). 不管怎么说,我们现在来取u → t时的极限：

1如果u在t之前, 那么分母应该是t - u, 分子应该是f(t) - f(u), 因此,无论怎样都没问题！

在时刻t的瞬时速度 = .

当然, 在以上极限中, 你不能只是用u = t作替换, 因为那样的话,你会得到0 / 0的不定式. 你的确要使用极限.

再来看一个小小的变形. 我们定义h = u - t. 那么,由于u非常靠近t, 两时刻的差值h一定非常小. 确实是, 当u → t时, 我们可以看到h → 0. 如果我们在上述极限中作如此替换的话,由于u = t + h, 我们也会有

在时刻t的瞬时速度 =

该公式和前一个公式之间没有实际的差别, 只是用了不同的方式而已.

　让我们来快速地看一个例子吧.假设, 汽车在7英里标志时停下来休息, 然后, 加速到时刻t =0小时的右侧. 结果是, 汽车在时刻t的位置好像是15t2 +7(这里的数15取决于加速度). 在不用担心为什么这是正确的情况下,让我们设f(t) = 15t2 + 7,并看看我们是否可以求出汽车在任意时刻t的速度.

使用上述公式, 我们有



现在, 我们展开(t + h)2 = t2 + 2th + h2,并进一步化简, 会看到上述表达式变为



在最后一步, 我们从分母中消去了h, 这非常好,因为它就是带给我们所有麻烦的家伙. 现在, 我们就可以将h =0代入并看到

在时刻t的瞬时速度 =

因此, 在时刻0, 汽车的速度是30 × 0 =0英里/小时——汽车在休息. 半小时之后, 在时刻t = 1 / 2,它的速度是30 × 1 / 2 = 15英里/小时. 一小时之后, 速度是30.事实上, 在时刻t的速度是30t, 这告诉我们,汽车在每小时30英里/小时的常数速率下行驶得越来越快. 这就是说,汽车是以30英里/小时每小时加速的, 或每平方小时30英里.





5.2.4　速度的图像解释


到了来看看图像的时候了. 假设, f(t)再次代表汽车在时刻t的位置.如果我们想要在一个特定时刻t的瞬时速度,需要选取一个靠近t的时刻u. 让我们来画一下y = f(t)的图像, 并标注位置(t,f(t))和(u,f(u))以及过这两点的直线, 如图5-9所示.



图　5-9

该直线的斜率由以下公式给出

斜率 =

这正好就是上一节中平均速度的公式. 因此,我们有了在t到u时间段上平均速度的图像解释：在位置与时间的图像上,它就是连接点(t,f(t))和(u,f(u))的直线的斜率.

让我们来试着给瞬时速度找一个类似的解释.我们需要取u趋于t时的极限, 因此, 让我们来重复几次上述图像,每一次u会越来越接近固定值t, 如图5-10 所示.



图　5-10

这些直线看上去好像越来越接近点(t,f(t))处的切线. 由于瞬时速度是这些直线在u → t时的极限,我们想要说的是, 瞬时速度就等于通过点(t,f(t))的切线的斜率.这看起来我们需要对切线有更好的了解……





5.2.5　切线


假设, 我们在某个函数f的定义域上选取一点x. 那么, 点(x,f(x))位于y = f(x)的图像上.我们想要试着画一条通过该点并与该条曲线相切的直线,即我们想要找到一条切线. 直观上, 这意味着,我们要找的直线刚好掠过该曲线的点(x,f(x)). 切线不需要只和曲线仅相交一次！例如,图5-11中通过点(x,f(x))的切线和曲线还有第二次相交,这不成问题：



图　5-11

也可能会这样, 在一个图像上给定的一点没有切线. 例如,我们考虑y = |x|的图像, 如图5-12所示.



图　5-12

该图像通过点(0,0), 但是过那一点没有切线.那么, 切线究竟该是什么样的呢？不管你画什么,你都不能在那里蜷缩图像, 因为它在原点处有一个尖点.在后面的5.2.10节我们将返回到该例子.

即使通过(x,f(x))的切线存在,你到底如何找到它呢？请记住, 为了描述一条直线,你仅仅需要提供两条信息：直线上的一点和该直线的斜率. 然后,你可以使用点斜式来求直线方程. 好吧,我们已经有了一个要素了：我们知道直线通过点(x,f(x)). 现在, 我们只需要求出斜率. 为了求解,我们将玩一个游戏, 类似于我们在上一节中和瞬时速度玩的那个.

我们由选取一个靠近于x(在它的左边或右边)的点z开始,并在曲线上画一点(z,f(z)). 现在,画一条通过点(x,f(x))和(z,f(z))的直线, 如图5-13所示.



图　5-13

由于斜率是对边比邻边, 则虚线的斜率是



现在, 当点z越来越接近x, 但没有真正到达x的情况下,以上直线的斜率应该变得越来越接近我们要找的切线的斜率. 因此,如果世界上还有真理存在的话, 那么, 正确的应该是

通过(x,f(x))的切线的斜率 =

我们设h = z - x, 那么, 我们会看到, 当z → x时, 我们有h → 0, 因此我们也有

通过(x,f(x))的切线的斜率 =

当然, 这只有当极限确实存在的时候才有意义！





5.2.6　导函数


在图5-14中, 我在曲线上画了通过三个不同的点的切线：



图　5-14

这些直线有不同的斜率. 这就是说,切线的斜率取决于你开始用的点x的值. 换句话说, 通过(x,f(x))的切线的斜率是x的一个函数.这个函数被称为f的导数, 并写作f'. 我们说,我们对f关于变量x 求导得到函数f'.根据上一节结尾部分的公式, 如果极限存在的话, 我们得到





在这种情况下, 我们说f在x点可导.如果对于某个特定的x极限不存在, 那么,x的值就没有在导函数f'的定义域里, 因此, 我们说f在x点不可导. 很多原因导致极限不存在. 特别是,可能会有一个尖角, 就像上述例子中的y = |x|一样.更基本地说, 如果x没有在f的定义域中, 那么,你甚至不可能画出点(x,f(x)),更不用说在那里画一条切线了.

现在, 让我们来回忆一下5.2.3节中瞬时速度的定义吧：

在时刻t的瞬时速度 =

其中, f(t)是汽车在时刻t的位置.等号右边的表达式和上述f'(x)的定义一样,除了用x代替t之外！这就是说, 如果v(t)是在时刻t的瞬时速度, 那么v(t) = f'(t). 确切地说, 速度就是位置关于时间的导数.

　让我们来看一个关于求导的例子.如果f(x) = x2, 那f'(x)是什么呢？计算过程和5.2.3节结尾部分很相似：



因此, f(x) = x2的导数由f'(x) =2x给出. 这意味着, 抛物线y = x2在点(x,x2)的切线的斜率就是2x.让我们画出该曲线和一些切线来检验一下, 如图5-15所示.



图　5-15

在x = - 1处的切线的斜率看起来的确和 - 2一样,这和公式f'(x) = 2x是一致的. (2倍的 - 1是 -2！)其他切线也一样, 它们的斜率都是相应的x坐标的2倍.





5.2.7　作为极限比的导数


在我们导函数f'(x)的公式中, 我们必须求出量f(x + h)的值. 这个量是什么呢？好吧, 如果y = f(x), 你将x变为x + h, 那么, f(x + h)只是一个新的y值. 量h代表你对x作了多少改变, 因此,我们用量Δx作替换. 这里的符号Δ表示“在……中的变化, ”因此, Δx就是在x中的变化. (不要把Δx看作是Δ和x的乘积,这明显就是错的！)因此, 用Δx替换h,我们来重新写一下f'(x)的公式吧：



好了, 这就是所发生的情况. 我们由(x,y)开始, 其中y= f(x). 现在, 我们选取一个新的x值,我们称之为x新.y的值也会相应地变成y新, 这当然就是f({x新). 现在,任意量的改变量正好是新值减去旧值, 因此, 我们有两个方程：

Δx = x新-x　及　Δy = y新-y.

第一个方程说的是x新 = x + Δx,因此第二个方程现在可以做如下变形：

Δy = y新 - y = f(x新) - f(x + Δx)-f(x).

这就是上面f'(x)定义中分数的分子！这意味着



该公式的一个解释就是, x中的一个小的变化产生了大约f'(x)倍的y中的变化. 的确, 如果y = f(x) = x2,那么, 我们在上一节已经看到f'(x) = 2x. 例如,让我们将精力集中在当x = 6时的情况. 首先, 请注意, 我们的f'(x)的公式告诉我们f'(6) = 2 × 6 = 12.因此, 如果你取方程62 = 36并将6做一点点改变,36将会变大12倍. 例如, 如果我们把0.01加到6上,我们应该将0.12加到36上. 因此, 我说的是(6.01)2应该差不多是36.12. 事实上, 正确答案是36.120 1,因此我的解的确是很接近正确答案了.

现在, 为什么我没有得到确切的答案呢？原因是, f'(x)并不真正地等于Δy和Δx的比值,它等于当Δx趋于0时该比值的极限. 这意味着,如果我们没有离6太远的话, 我们会做得更好.让我们来试着猜一下(6.000 4)2的值吧.我们将原始的x值6加上了0.000 4, 因此,y值应该有12倍的改变, 就是0.004 8. 因此我们的猜测是(6.000 4)2大约是36.004 8. 这还不错,真正的答案是36.004 800 16, 因此,两个数已经非常接近了！对6的改变越小,我们的方法计算出的结果就会越好.

当然, 魔力数字12仅仅当你从x = 6开始的时候才会起作用.如果你从x = 13开始的话, 魔力数字就是f'(13)了,它就等于2× 13 = 26. 因此, 我们知道132 = 139; (13.000 2)2是什么呢？为了从13得到13.000 2,你必须加上0.000 2. 由于魔力数字是26,我们必须将26倍的0.000 2加到169上来猜测我们的答案. 这就是说,我们将0.005 2加到169上并得出猜测结果是169.005 2.这太棒了：(13.000 2)2实际上就是169.005 200 04.

不管怎样,第13章我们讲解线性化时将会返回到这些基本思想上来.现在, 让我们再来看看下面的公式



等号右边的表达式是, 当x中的变化非常小时,y中的变化和x中的变化的比值的极限. 假设,x小得以至于其中的变化几乎注意不到. 我们不用Δx,它表示“x中的变化”, 我们现在想要写dx,这应该表示“x中的十分微小的变化”, 对y有类似的表示方法.不幸的是, dx和dy本身没有任何意义2; 尽管如此,这给了我们灵感, 用一种不同的更方便的方法来写导数：

2“我们有无穷小的理论”, 但它超出了本书的范围！

如果y = f(x), 那么, 你可以用来代替f'(x).

例如, 如果y = x2, 那么.事实上, 如果你用x2代替y,你会得到对于一件事情的很多不同的表达方式：



作为另一个例子, 在5.2.3节, 我们看到了,如果汽车在时刻t的位置是f(t) = 15t2 + 7, 那么,它的速度是30t. 我们记得速度就是f'(t),这意味着f'(t) = 30t.但如果我们决定把位置称为p, 以至于p = 15t2 + 7,我们可以写. 关键是,不是所有的都用x和y来表达,你必须能够应对其他的字母.

总的来说,量是y关于x的导数.如果y = f(x), 那么和f'(x)是一回事. 最后, 请记住, 量实际上根本不是一个分数, 它是当Δx → 0时分数的极限.





5.2.8　线性函数的导数


让我们停下来喘口气, 回顾一个简单的例子：假设, f是线性的.这意味着, 对于某个m和b, f(x) = mx + b.你认为f'(x)会是什么？请记住, 它是测量曲线y =f(x)在点(x,f(x))处的切线的斜率的. 在我们这个例子下, y = mx +b的图像就是斜率为m, y轴截距为b的一条直线.如果世界上还有真理的话, 那么,该条直线上任意一点的切线就是这条直线本身！这意味着, 不管x取何值,f'(x)的值就应该是m：曲线y = mx +b有固定的斜率m. 让我们用公式检验一下：



因此, 世界有真理存在：不管x取何值, f'(x) = m.这就是说, 线性函数的导数是常数. 正如你会期待的,只有线性函数有固定的斜率(这是所谓的中值定理的结果; 见11.3.1节).顺便说的是, 如果f就是常数函数, 即f(x) = b,那么, 斜率总是0. 特别是, 对于所有的x, f'(x) =0. 因此, 我们证明了常数函数的导数恒为0.





5.2.9　二阶导数和更高阶导数


由于你可以由一个函数f出发, 取其导数得到一个新的函数f', 事实上,你可以采用这个新的函数, 再次求导. 以导数的导数结束, 这被称为二阶导, 并写作f''.

　例如,我们已经看到, 如果f(x) = x2, 那么,其导数为f'(x) = 2x. 现在, 我们想要对此结果求导.让我们设g(x) = 2x, 并试着求出g'(x).由于g是一个线性函数, 其斜率为2, 从上一节我们知道g'(x) = 2. 因此, f导数的导数是常数函数2, 这样我们就证明了,对于所有的x, f''(x) = 2.

如果y = f(x), 那么,我们已经看到我们可以用代替f'(x). 对于二阶导有一种相似的记号：

如果y = f(x), 那么, 你可以用代替f''(x).

在上述例子中, 如果y = f(x) = x2,那么我们看到了



这些都是对f(x) =x2的二阶导(关于x)是常数函数2的有效的表达方式.

为什么停止在求二阶导上呢？函数f的三阶导是f的导数的导数的导数.那会是很多导数！现实一点,你应该把f的三阶导看成是f二阶导的导数,而且你可以用以下任意一种方式写出：

f''' (x),　f (3)(x),　　或

记号f (3)(x)尤其对于求高阶导数特别方便, 因为写那么多的撇号简直太傻了.因此, 例如, 四阶导, 就是三阶导的导数, 可以写作f (4)(x)而不是f'''' (x). 这就是说,有时候会用另外一种方式表示会很方便, 如将二阶导写成f (2)(x)而不是f'' (x).甚至也可能将一阶导写成f (1)(x)而不是f' (x), 因为我们只取了一次导数, 此外,用f (0)(x)代替f(x)本身(没有取导数！). 用那种方式, 对于某个整数n,任何导数都可以写成f (n)(x)的形式.





5.2.10　导数何时不存在


在5.2.5节, 我提到了f(x) = |x|的图像在原点处有一个尖点. 这将应该意味着, 在x =0处导数不存在. 现在, 让我们来看看为什么会这样. 使用导数公式,我们有



我们感兴趣的是, 当x = 0时会发生什么, 因此,我们在以上等式链中用0替换x：



我们之前看到过这个极限！事实上, 在4.6节, 我们看到了该极限不存在.这意味着, f'(0)的值无定义,即0没有在f'的定义域中. 然而, 我们也看到了,如果你将它由一个双侧极限改为单侧极限, 那么以上极限存在. 特别是,右极限是1, 左极限是 - 1. 这就激发了右导数和左导数的思想,其定义分别由如下公式给出

　及

它们看起来和普通导数的定义很相似, 除了双侧极限(即, 当h → 0)分别由右极限和左极限所代替外. 正如在极限的情况一样,如果左导数和右导数存在且相等, 那么, 实际的导数存在且有相同的值.此外3,如果导数存在, 那么, 左右导数都存在且都等于导数值.

3你可能会说“反之”,但只有当你知道什么是“反之”的时候才可以说！

不管怎样, 关键是, 如果f(x) = |x|,那么, 在x = 0处其右导数为1, 左导数为 - 1.你相信吗？我们再来看看图5-16吧：当你从原点出发沿着该曲线向右移动时, 它的斜率当然是1(事实上, 它保持斜率1, 即, 如果x > 0, f'(x) =1). 类似地, 从原点出发沿着该曲线向左移动时, 它的斜率当然是 - 1(事实上, 如果x < 0, f'(x) = - 1).由于左侧斜率不等于右侧斜率, 在x =0处导数不可能存在.



图　5-16

现在, 我们有了在其定义域内不是处处可导的连续函数. 很明显,除了一个小点外, 它仍然是可导的. 这说明, 你可以有一个连续函数,它是“这么的尖并且颤抖着”,以至于事实上它在每一个单点x上都有一个尖角, 因此,它在任意点上都不可导！这种怪异的函数超出了本书的研究范围, 但是,我可能也会提到一些这种类型的函数用来模拟股价,如果你曾经看到过股价的图像,你就会知道我说的“尖的并且颤抖着”是什么意思了. 不管怎样,我要说的是, 存在不可导的连续函数. 那么,会有不连续的可导函数吗？回答是否定的, 我们马上就会看到为什么了.





5.2.11　可导性和连续性


现在到了将本章的两个重要概念联系在一起的时候了. 我要证明的是,每一个可导函数也是连续的. 从另外一个角度出发,如果你知道一个函数是可导的, 你会自动得到该函数的连续性.更确切地说, 我要证明：

如果一个函数f在x上可导, 那么, 它在x上连续.



例如, 我们将在第7章证明, sin(x)作为x的函数是可导的. 这会自动暗示它在x处也是连续的.同样的结论也适用于其他的三角函数,指数函数和对数函数(除了在它们的垂直渐近线处).

因此,我们如何来证明我们提出的重要主张呢？让我们先来看看我们想证明的是什么.要证明的是f在x上连续, 我们将需要证明



我们记得, 在5.1.1节中, 只有当等号两边同时存在时,该方程才成立！在我们继续证明之前, 我想用h = u - x作替换,正如我们之前做过的. 在那种情况下, u = x + h, 并且, 当u → x时, 我们看到h → 0. 因此, 上述方程可由下式代替



我们需要证明等号两边都存在并且相等——那样的话,我们就完成任务了.

既然我们目标明确, 让我们从我们真正知道的开始吧.我们知道f在x上可导; 这意味着, f'(x)存在, 因此,根据f'的定义, 极限



存在. 首先, 我们注意到, 该公式中包含了f(x), 那么,它一定存在, 否则, 该公式就会受到重创. 因此,我们已经到达了某个阶段：我们知道f(x)存在.我们仍然需要做一些聪明的事情. 诀窍就是,由另一个极限开始：



一方面, 将它精确地分成两个因子, 我们可以求出该极限：



因为所有涉及的极限都存在, 所以这样做还不错.(这就是你需要知道f'(x)存在的地方,否则那样做就没有道理了.)另一方面,我们可以取原始极限并删除因子h得到



我们比较一下之前的这两个方程, 就会得到



当然, f(x)的值根本不依赖于极限,因此我们可以将它提出来, 会看到



现在, 我们必须要做的就是将f(x)加到等号两边, 得到



这正是我们想要的！特别是, 等号左边的极限存在并且等式成立. 因此,我们证明了一个很好的结论：可导函数必连续. 但是, 请记住,连续函数并不总是可导的！





