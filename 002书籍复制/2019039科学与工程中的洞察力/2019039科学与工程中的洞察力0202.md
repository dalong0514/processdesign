# 第2章 抽象

## 2.2 扔硬币游戏

科学的发展给了我们原子、化学键和结合能等抽象概念。但是，我们常常会面对一些问题，需要进行新的抽象。我们将通过分析扔硬币游戏来发展这个技巧。在这个游戏中，两个游戏者轮流扔一个硬币，先扔出正面者获胜。

➤ 第一个游戏者获胜的概率有多大？

首先通过做游戏来获得一些感觉。第一轮游戏的结果是：

TH

第一个游戏者扔出的是反面（T），因此没能获胜，第二个游戏者扔出的是正面（H），因而获胜。

游戏重复很多次后会给我们揭示一些图像或给我们一些如何计算概率的建议。然而，将一枚真实的硬币反复扔很多次会乏味至极。电脑可以模拟这个游戏，用伪随机数来代替硬币。下面是电脑程序产生的几轮游戏结果。每一行开头都用 1 或 2 表示是哪个游戏者贏。数字后面是扔硬币的结果：

![](https://raw.githubusercontent.com/dalong0514/selfstudy/master/图片链接/化工书籍/2019526.PNG)

在这 10 轮游戏中，每个游戏者都贏了 5 次。一个合理的假设是每个游戏者都有相同赢得游戏的机会。但是，这个假设只是基于 10 次游戏，不可能有太高的可信度。

让我们尝试 100 次。现在甚至只是数贏的次数就让人很乏味了。我让电脑来计数：结果第一个游戏者赢了 68 次，第二个游戏者赢了 32 次。第一个游戏者贏的概率接近 2/3，而不是 1/2。

![](https://raw.githubusercontent.com/dalong0514/selfstudy/master/图片链接/化工书籍/2019527.PNG)

为了得到准确的值，我们用树图来表示游戏交替出现的结果。每一层表示扔一次硬币。当有一个游戏者扔出正面，游戏就在一个树叶结束。有阴影的树叶表示第一个游戏者赢一一比如是 H，TTH，或 TTTTH。这些获胜的概率是 1/2(H)，1/8(TTH）及 1/32(TTTTE）。

所有这些获胜概率的和就是第一个游戏者获胜的概率：

1/2+1/8+1/32+……

为了不用公式求出这个无穷级数的和，我们来进行一个抽象：注意到在每层向下时，树图都包含一个自身的拷贝。（在这个问题中，抽象在同样的问题中不断被使用。在计算机科学中，这种结构称为循环。）因为如果第一个游戏者扔出的是反面，则第二个游戏者是以获胜概率为 p 的第一个游戏者的位置开始游戏。

为了从这个比较中得到好处，让我们给这个可重复的概念一个名称，即第一个游戏者获胜的概率，记为 p。则第二个游戏者的获胜概率为 p/2：因子 1/2 是第一个游戏者扔出反面的概率，因子 p 是第二个游戏者获胜的概率（第一个游戏者在第一次扔出的是反面而失去机会的情况下。）

因为不是第一个游戏者获胜，就是第二个游戏者获胜，两个概率之和等于 1:

![](https://raw.githubusercontent.com/dalong0514/selfstudy/master/图片链接/化工书籍/2019528.PNG)

其解为 p=2/3，正是 100 次游戏模拟的结果。

抽象解与直接求无穷多个概率和相比的好处在于洞察。在抽象解中，答案必须反映问题的本质。几乎不会有任何多余的东西。

一个有趣的、可以说明同样问题的例子来自在两列相向而行的列车之间飞舞的苍蝇问题。

如果开始时列车相隔 60 英里，列车的速度都是 20 英里/小时，苍蝇的速度是 30 英里/小时，苍蝇在两列火车相撞而惨死之前总共飞行多少距离？（抱歉物理问题经常是如此暴力。）

听说这个问题，冯·诺依曼，博弈论和现代计算机的开创者，立刻就给出了正确的距离。一个同事说，「太快了」。「所有人都在试图求出无穷级数的和。」「那么做有什么问题？」冯·诺依曼说道，「我就是这么做的。」

在题 2.7，你可以求出无穷级数，或通过洞察力求解。

题 2.4 利用抽象方法求出几何级数的和

利用抽象方法求出无穷几何级数的和：

1+r+r^2+r^3+……

题 2.5 利用几何级数的和

利用题 2.4 验证第一个游戏者获胜的概率为 2/3，与我们用抽象方法得到的一致。

p=1/2+1/8+1/32+……

题 2.6 嵌套的平方根

求出下列算术和平方根的无穷混合的值：

![](https://raw.githubusercontent.com/dalong0514/selfstudy/master/图片链接/化工书籍/2019529.PNG)

题 2.7 两列火车与一只苍蝇

对于苍蝇和逼近的列车问题（章节 2.2），直接求无穷级数，或通过洞察力求解。验证两种方法的结果一致！

题 2.8 电阻网络

在下列 1 欧姆电阻的网络中，A，B 两点之间的电阻是多少？这个测量是通过连接两点的欧姆表得到的。

![](https://raw.githubusercontent.com/dalong0514/selfstudy/master/图片链接/化工书籍/2019530.PNG)

## 2.3 抽象的目的

像几何级数（题 2.4）或电阻网络（题 2.8）一样，扔硬币游戏（章节 2.2）包含了自身的复制。注意到这种重复会极大地简化分析。

抽象还有第二个好处：能使我们站在更高的位置来看待一个问题或情形。抽象让我们看到表面上毫无关系的事物之间的相似结构。

举例来说，让我们来重新审视一下在章节 1.6 中进行直觉估算时介绍的几何平均。两个非负数 a 和 b 的几何平均定义为：

	几何平均=√(a·b)

之所以称为几何平均是因为其具有这样一种赏心悦目的几何结构。将个圆的直径分为两段，a 和 b，然后作一个直角三角形，其斜边为圆的直径。则三角形的高为两个长度 a 和 b 的几何平均。

几何平均会在令人惊讶的地方不断出现，包括海边。当你站在海边眺望远处时，你看到的就是几何平均。题 2.9 中，到地平线的距离就是两个重要长度的几何平均。

![](https://raw.githubusercontent.com/dalong0514/selfstudy/master/图片链接/化工书籍/2019531.PNG)

对我来说，最令人惊奇的是其出现在高德纳（Donald Knuth)（排版系统 TeX 的作者）教的课程「编程与问题解决研讨班」上。这个课程通过一系列的「两周问题」的讲授，来帮助一年级博士生从本科生的作业问题过渡到博土生的研究问题。一个回家作业也许需要 1 小时。一个研究课题需要，比如说 1000 小时：大约是一年的工作，同时可以做一些其他的课题。（几个课题合并起来变成一个博士。）在这个课程中，每一个两周模块需要大约 30 小时一一近似是这两个极端情况的几何平均。这些模块正是帮助我们从作业跨越到研究的桥梁的正确长度。

题 2.9 到地平线的距离

当你站在海边时，离地平线有多远？提示：成人看到的距离要比儿童看到的更远。

题 2.10 到一艘船的距离

站在海边，你正好能看到船上的 10 米桅杆。这艘船有多远？

更多的证据表明几何平均是一个有用的抽象，甚至当并没有一个几何构造来产生这个平均时仍会出现这个概念，比如在进行直觉估算的时候。我们曾经在章节 1.6 用这个方法估算过人口密度及美国人口。

让我们再来练习下估算美国进口的石油一一每年多少桶一一不使用章节 1.4 中的分而治之法。这个方法要求直觉给出一个下限和一个上限。我的直觉告诉我，如果进口石油少于每年一千万桶会令人相当惊奇。至于上限，如果进口量大于每年一万亿桶则会让我直觉感到震惊一一一桶油已经很多了，一万亿是一个巨大的数。

我对这个量的最佳猜测是上限和下限的几何平均：

![](https://raw.githubusercontent.com/dalong0514/selfstudy/master/图片链接/化工书籍/2019532.PNG)

结果是大约每年 30 亿桶一一与我们用分而治之法的估算很接近，并接近实际值。反之，算术平均将给出每年 5000 亿桶的估算，这就太大了。

题 2.11 算术平均——几何平均不等式

利用几何平均的几何图示证明，a 和 b（假定非负）的算术平均总是大于或等于其几何平均。什么时候这两个平均相等？

题 2.12 带权重的几何平均

a 和 b 算术平均 (a+b)/2 的一个推广是给 a 和 b 加上不同的权重。什么是几何平均的类似推广？（在题 6.29，你估算小球从桌上掉到地上的接触时间时就会出现带权重的几何平均。）

